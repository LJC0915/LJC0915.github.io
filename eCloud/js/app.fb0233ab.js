(function(e){function t(t){for(var n,l,s=t[0],o=t[1],c=t[2],d=0,m=[];d<s.length;d++)l=s[d],i[l]&&m.push(i[l][0]),i[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},r=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"00a2":function(e,t,a){},"0626":function(e,t,a){},"0b34":function(e,t,a){"use strict";var n=a("55b4"),i=a.n(n);i.a},"0fb3":function(e,t,a){},1069:function(e,t,a){},"1ca4":function(e,t,a){},"1dfc":function(e,t,a){"use strict";var n=a("2c66"),i=a.n(n);i.a},2291:function(e,t,a){},"233c":function(e,t,a){},"23a2":function(e,t,a){},"2c66":function(e,t,a){},3344:function(e,t,a){"use strict";var n=a("00a2"),i=a.n(n);i.a},"357e":function(e,t,a){"use strict";var n=a("c83a"),i=a.n(n);i.a},3787:function(e,t,a){},"3d48":function(e,t,a){"use strict";var n=a("ebfa"),i=a.n(n);i.a},"3e4c":function(e,t,a){},4352:function(e,t,a){"use strict";var n=a("9f41"),i=a.n(n);i.a},"46f9":function(e,t,a){},4801:function(e,t,a){},"4e73":function(e,t,a){"use strict";var n=a("23a2"),i=a.n(n);i.a},"53e0":function(e,t,a){"use strict";var n=a("b889"),i=a.n(n);i.a},"55b4":function(e,t,a){},5635:function(e,t,a){},"5b72":function(e,t,a){"use strict";var n=a("3787"),i=a.n(n);i.a},6426:function(e,t,a){"use strict";var n=a("94d6"),i=a.n(n);i.a},6989:function(e,t,a){"use strict";var n=a("2291"),i=a.n(n);i.a},"6b13":function(e,t,a){"use strict";var n=a("73cd"),i=a.n(n);i.a},"6c9a":function(e,t,a){"use strict";var n=a("1ca4"),i=a.n(n);i.a},"6d6e":function(e,t,a){"use strict";var n=a("1069"),i=a.n(n);i.a},"73cd":function(e,t,a){},"74db":function(e,t,a){"use strict";var n=a("88f7"),i=a.n(n);i.a},"7fa4":function(e,t,a){"use strict";var n=a("bf2b"),i=a.n(n);i.a},8691:function(e,t,a){},"88bd":function(e,t,a){},"88f7":function(e,t,a){},9290:function(e,t,a){"use strict";var n=a("b302"),i=a.n(n);i.a},"941a":function(e,t,a){"use strict";var n=a("46f9"),i=a.n(n);i.a},9435:function(e,t,a){"use strict";var n=a("0fb3"),i=a.n(n);i.a},"94a8":function(e,t,a){"use strict";var n=a("a982"),i=a.n(n);i.a},"94d6":function(e,t,a){},"9f41":function(e,t,a){},a18c:function(e,t,a){},a3ad:function(e,t,a){"use strict";var n=a("0626"),i=a.n(n);i.a},a80b:function(e,t,a){},a982:function(e,t,a){},aac9:function(e,t,a){"use strict";var n=a("233c"),i=a.n(n);i.a},b302:function(e,t,a){},b44c:function(e,t,a){"use strict";var n=a("d79c"),i=a.n(n);i.a},b889:function(e,t,a){},bb45:function(e,t,a){"use strict";var n=a("4801"),i=a.n(n);i.a},bd0a:function(e,t,a){"use strict";var n=a("cabb"),i=a.n(n);i.a},bf2b:function(e,t,a){},c5a2:function(e,t,a){"use strict";var n=a("88bd"),i=a.n(n);i.a},c69f:function(e,t,a){},c83a:function(e,t,a){},c88d:function(e,t,a){},cabb:function(e,t,a){},cc4b:function(e,t,a){"use strict";var n=a("c88d"),i=a.n(n);i.a},cd49:function(e,t,a){"use strict";a.r(t);a("14c6"),a("08c1"),a("4842"),a("d9fc3");var n,i,r=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"app-container"},[a("el-header",{staticClass:"header",attrs:{height:"64"}},[a("site-header")],1),a("el-container",{staticClass:"app-container-main"},[a("el-aside",{attrs:{width:"262px"}},[a("nav-menu")],1),a("el-main",[a(e.activeTab,{tag:"component",attrs:{id:e.activeTab.name}})],1)],1)],1)},s=[],o=(a("7f7f"),a("d225")),c=a("b0b4"),u=a("308d"),d=a("6bb5"),m=a("4e2b"),p=a("9ab4"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"vertical-menu",attrs:{"default-active":e.defaultMenuName}},[e._l(e.upperTabs,function(t){return a("el-menu-item",{key:t.index,attrs:{index:t.name},on:{click:function(a){return e.goToTab(t)}}},[a("span",{staticClass:"menu-item-wrapper"},[a("span",{staticClass:"dot-wrapper"},[e.currentIndex===t.index?a("div",{staticClass:"dot"}):e._e()]),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])])}),e._l(e.lowerTabs,function(t){return a("el-menu-item",{key:t.index,attrs:{index:t.name},on:{click:function(a){return e.goToTab(t)}}},[a("span",{staticClass:"menu-item-wrapper"},[a("span",{staticClass:"dot-wrapper"},[e.currentIndex===t.index?a("div",{staticClass:"dot"}):e._e()]),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])])})],2)},b=[];a("7514");(function(e){e["UPDATE_CURRENT_TAB"]="UPDATE_CURRENT_TAB"})(n||(n={})),function(e){e["UPDATE_CURRENT_TAB"]="tabs/UPDATE_CURRENT_TAB"}(i||(i={}));var v=a("60a3"),h=a("4bb5"),y=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.currentIndex=0,e.defaultMenuName="",e.userTabs=[{index:0,title:"My Labs",name:"Lab",permission:-1},{index:1,title:"Sequence Manager",name:"SequenceManager",permission:1},{index:2,title:"Sequence Manager",name:"UserSequenceManager",permission:0},{index:3,title:"Sequence Store",name:"SequenceStore",permission:1},{index:4,title:"Sequence Store",name:"UserSequenceStore",permission:0},{index:-1,title:"Project Manager",name:"ProjectManager",permission:-1},{index:-2,title:"Project Worker",name:"ProjectWorker",permission:-1},{index:-3,title:"Transducer DB Settings",name:"TransducerDbSettings",permission:-1},{index:8,title:"Transducer Database",name:"TransducerDbDevice",permission:-1},{index:-4,title:"Plan Setting",name:"PlanSetting",permission:0}],e.adminTabs=[{index:9,title:"User Account Manager",name:"UserAccountManagement",permission:1},{index:10,title:"Plan Manager",name:"PlanManagement",permission:1},{index:12,title:"Device Manager",name:"IoT",permission:1},{index:13,title:"OTA Server",name:"OTA",permission:1}],e.rootTabs=[{index:14,title:"Admin Account Manager",name:"AdminAccountManagement",permission:2},{index:15,title:"Device Manager",name:"IoT",permission:2}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"onUrlChange",value:function(e){var t=this,a=e.query.tab,n=[].concat(this.userTabs,this.adminTabs,this.rootTabs),i=n.find(function(e){return e.name==a&&(-1==e.permission||e.permission==t.status)});i?(this.updateTab(i.name),i.index<0?(this.currentIndex=this.userTabs[0].index,this.defaultMenuName=this.userTabs[0].name):(this.currentIndex=i.index,this.defaultMenuName=i.name)):(i=2===this.status?this.rootTabs[0]:this.userTabs[0],this.$router.push({query:{tab:i.name}}))}},{key:"goToTab",value:function(e){this.$router.push({query:{tab:e.name}})}},{key:"isRoot",get:function(){return 2===this.status}},{key:"upperTabs",get:function(){var e=this;return this.isRoot?[]:this.userTabs.filter(function(t){return t.index>-1&&(t.permission===e.status||-1===t.permission)})}},{key:"lowerTabs",get:function(){var e=this;return this.isRoot?this.rootTabs:this.adminTabs.filter(function(t){return t.permission===e.status||-1===t.permission})}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/status")],y.prototype,"status",void 0),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],y.prototype,"updateTab",void 0),p["b"]([Object(v["f"])("$route",{immediate:!0,deep:!0})],y.prototype,"onUrlChange",null),y=p["b"]([v["a"]],y);var g=y,_=g,k=(a("4352"),a("2877")),D=Object(k["a"])(_,f,b,!1,null,"3cbfc29c",null),O=D.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container",attrs:{align:"middle",type:"flex"}},[a("router-link",{attrs:{to:{name:"App"}}},[a("img",{attrs:{alt:"logo",src:"http://www.pal-acoustics.com/images/logo.jpg",width:"60"}})]),a("div",{staticClass:"title"},[e._v("PAL Web Test Platform")]),a("el-dropdown",{staticClass:"dropdown-menu",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"pal-icon-user"})]),a("el-dropdown-menu",{staticClass:"pal-dropdown-menu-user",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{divided:""}},[a("div",{staticClass:"blue-color f-bold",staticStyle:{"padding-top":"12px","line-height":"24px"}},[e._v(e._s(e.username))]),a("div",{staticClass:"light-gray-color f-1",staticStyle:{"padding-bottom":"12px","line-height":"20px"}},[e._v(e._s(e.email))])]),e._l(e.dropdownItems,function(t,n){return a("el-dropdown-item",{key:n,staticClass:"dark-gray-color f-bold",attrs:{divided:""},nativeOn:{click:function(e){return t.action(e)}}},[e._v(e._s(t.label))])}),a("el-dropdown-item",{staticClass:"dark-gray-color f-bold",attrs:{divided:""},nativeOn:{click:function(t){return e.redirect("LoginView")}}},[e._v("Sign out")])],2)],1),a("change-password-modal",{attrs:{visible:e.displayChangePasswordModal},on:{dismiss:function(t){e.displayChangePasswordModal=!1}}}),a("profile-modal",{attrs:{visible:e.displayProfileModal,name:e.username,email:e.email},on:{dismiss:function(t){e.displayProfileModal=!1}}})],1)},w=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Change Password","show-close":!1,width:"300px"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"New Password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{label:"Confirm New Password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.formData.confirm_password,callback:function(t){e.$set(e.formData,"confirm_password",t)},expression:"formData.confirm_password"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.change}},[e._v("Save")])],1)],1)},S=[],C=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"dismiss",value:function(){}},{key:"close",value:function(){return!1}}]),t}(v["e"]);p["b"]([Object(v["d"])(Boolean)],C.prototype,"visible",void 0),p["b"]([Object(v["b"])("dismiss")],C.prototype,"dismiss",null),p["b"]([Object(v["b"])("update:visible")],C.prototype,"close",null),C=p["b"]([v["a"]],C);var A=C,T=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData={password:"",confirm_password:""},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"clean",value:function(){this.formData={password:"",confirm_password:""},this.dismiss()}},{key:"change",value:function(){var e=this,t=this.formData,a=t.password,n=t.confirm_password;a===n?this.api.patchUserAccount({password:a},this.userId).then(function(){return e.clean()}):this.$message({type:"error",message:"Password can not be different"})}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/id")],T.prototype,"userId",void 0),p["b"]([Object(v["b"])("refresh")],T.prototype,"refresh",null),T=p["b"]([v["a"]],T);var E,L,M=T,q=M,N=Object(k["a"])(q,x,S,!1,null,"53a9e26b",null),R=N.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Profile","show-close":!1,width:"300px"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"User Name"}},[a("el-input",{model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})],1),a("el-form-item",{attrs:{label:"User Email"}},[a("el-input",{attrs:{disabled:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.change}},[e._v("Save")])],1)],1)},P=[];(function(e){e["UPDATE_PERMISSION"]="UPDATE_PERMISSION",e["CLEAR"]="CLEAR"})(E||(E={})),function(e){e["UPDATE_PERMISSION"]="permission/UPDATE_PERMISSION",e["CLEAR"]="permission/CLEAR"}(L||(L={}));var F=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.editName="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){this.editName=e?this.name:""}},{key:"clean",value:function(){this.dismiss()}},{key:"change",value:function(){var e=this;this.api.patchAccountName(this.editName,this.id).then(function(t){var a=t.id,n=t.status,i=t.name,r=t.account;e.updatePermission({id:a,status:n,username:i,email:r,token:e.token}),e.clean()})}}]),t}(Object(v["c"])(A));p["b"]([Object(h["a"])(L.UPDATE_PERMISSION)],F.prototype,"updatePermission",void 0),p["b"]([Object(v["b"])("refresh")],F.prototype,"refresh",null),p["b"]([Object(v["d"])(String)],F.prototype,"email",void 0),p["b"]([Object(v["d"])(String)],F.prototype,"name",void 0),p["b"]([Object(h["b"])("permission/id")],F.prototype,"id",void 0),p["b"]([Object(h["b"])("permission/token")],F.prototype,"token",void 0),p["b"]([Object(v["f"])("visible")],F.prototype,"onVisibleChange",null),F=p["b"]([v["a"]],F);var I,U=F,B=U,V=Object(k["a"])(B,$,P,!1,null,"a4789bcc",null),z=V.exports,J={API_URL:"http://18.188.212.158:8000/",apiDebug:!0},G=J,Y=(a("ac6a"),a("456d"),a("96cf"),a("faa1")),H=a("bc3a"),K=a.n(H),W=a("4328"),X=a.n(W),Q=a("c64e"),Z=a.n(Q);function ee(e){var t=e.method,a=e.url,n=e.data;return"".concat(t," ").concat(a," \n=== request === \n").concat(JSON.stringify(n,null,2))}function te(e){var t=e.status,a=e.data;return"=== response (status = ".concat(t,") ===\n").concat(JSON.stringify(a,null,2))}(function(e){e["CALL"]="onApiStatus",e["CALL_CHANGED"]="onCallingApisChanged",e["CALL_STARTED"]="onApiCallStarted",e["CALL_ENDED"]="onApiCallEnded",e["CALL_ERROR"]="onApiCallError",e["CALL_TIMEOUT"]="onApiCallTimeout"})(I||(I={}));var ae=function(){function e(t){Object(o["a"])(this,e),this.config=t,this.callingApisEventEmitter=new Y["EventEmitter"],this.responseStatusEventEmitter=new Y["EventEmitter"],this.callingApis={};var a=t.baseURL,n=t.timeout,i=void 0===n?0:n;this.axiosInstance=K.a.create({baseURL:a,timeout:i}),this.setUpEvents(),this.setUpInterceptors()}return Object(c["a"])(e,[{key:"get",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=t&&Object.keys(t).length>0?"?"+X.a.stringify(t,{indices:!1}):"",a.next=3,this.executeRequest(e,function(){return p["a"](i,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axiosInstance.get("".concat(e).concat(n));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},t,this)}))});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)}))}},{key:"post",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.executeRequest(e,function(){return p["a"](n,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.axiosInstance.post("".concat(e),t);case 2:return a.abrupt("return",a.sent.data);case 3:case"end":return a.stop()}},a,this)}))});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}))}},{key:"patch",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.executeRequest(e,function(){return p["a"](n,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.axiosInstance.patch("".concat(e),t);case 2:return a.abrupt("return",a.sent.data);case 3:case"end":return a.stop()}},a,this)}))});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}))}},{key:"put",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.executeRequest(e,function(){return p["a"](n,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.axiosInstance.put("".concat(e),t);case 2:return a.abrupt("return",a.sent.data);case 3:case"end":return a.stop()}},a,this)}))});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}))}},{key:"delete",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=0===Object.keys(t).length?"":"?"+X.a.stringify(t,{indices:!1}),a.next=3,this.executeRequest(e,function(){return i.axiosInstance.delete("".concat(e).concat(n))});case 3:case"end":return a.stop()}},a,this)}))}},{key:"executeRequest",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=Z()(),a.prev=1,this.callingApisEventEmitter.emit(I.CALL_STARTED,e,n),a.next=5,t();case 5:return i=a.sent,this.callingApisEventEmitter.emit(I.CALL_ENDED,e,n),a.abrupt("return",i);case 10:throw a.prev=10,a.t0=a["catch"](1),"ECONNABORTED"===a.t0.code?this.callingApisEventEmitter.emit(I.CALL_TIMEOUT,e,n,a.t0):this.callingApisEventEmitter.emit(I.CALL_ERROR,e,n,a.t0),a.t0;case 14:case"end":return a.stop()}},a,this,[[1,10]])}))}},{key:"setUpEvents",value:function(){var e=this,t=this.config.onCallingApiStateChanged;t&&(this.callingApisEventEmitter.on(I.CALL_CHANGED,function(){t(e.callingApis)}),this.callingApisEventEmitter.on(I.CALL_STARTED,function(t,a){var n=e.callingApis[t]||[];n.push({txId:a}),e.callingApis[t]=n,e.callingApisEventEmitter.emit(I.CALL_CHANGED)}),this.callingApisEventEmitter.on(I.CALL_ENDED,function(a,n){var i=e.callingApis[a];e.callingApis[a]=i.filter(function(e){return e.txId!==n}),t(e.callingApis)}),this.callingApisEventEmitter.on(I.CALL_ERROR,function(a,n,i){var r=e.callingApis[a];r.filter(function(e){return e.txId===n}).forEach(function(e){e.error=i}),t(e.callingApis)}),this.callingApisEventEmitter.on(I.CALL_TIMEOUT,function(a,n){var i=e.callingApis[a];i.filter(function(e){return e.txId===n}).forEach(function(e){e.error="timeout"}),t(e.callingApis)})),this.responseStatusEventEmitter.on(I.CALL,function(t){t.status>=400&&e.config.errorStatusHandler&&e.config.errorStatusHandler(t.status,t.data)})}},{key:"setUpInterceptors",value:function(){var e=this,t=this.config,a=t.debug,n=t.tokenProvider,i=t.extraHeaderProvider;this.axiosInstance.interceptors.request.use(function(t){return p["a"](e,void 0,void 0,regeneratorRuntime.mark(function e(){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t.url);case 3:a=e.sent,a&&(t.headers.Authorization=a),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:if(!i){e.next=14;break}return e.next=12,i(t.url);case 12:r=e.sent,Object.keys(r).forEach(function(e){t.headers[e]=r[e]});case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,null,[[0,7]])}))}),this.axiosInstance.interceptors.response.use(function(t){return a&&console.log("".concat(ee(t.config)).concat(te(t))),e.handleResponseStatus(t),t},function(t){var n=t.config,i=t.response;return a&&console.log("".concat(n&&ee(n)).concat(i&&te(i))),e.handleResponseStatus(i),Promise.reject(t)})}},{key:"handleResponseStatus",value:function(e){e&&e.status&&this.responseStatusEventEmitter.emit(I.CALL,e)}},{key:"axios",get:function(){return this.axiosInstance}}]),e}(),ne=a("5c96"),ie=a.n(ne);function re(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a&&ne["Loading"].service({target:".tabs",body:!0});return e.catch(function(e){console.warn(e);var a=e.response&&e.response.data?e.response.data.code:e.code,n=e.response&&e.response.data?e.response.data:e.message;return Object.assign({},t,{errorMessage:n,code:a})}).finally(function(){a&&n&&n.close()})}function le(){return{name:"",device_manager:null,description:""}}function se(){return{HD:"",check_sum:"8",download_url:"",version:""}}function oe(){return{api_price_per_time:1,basic_fee:1,markup_multiplier:1,network_traffic:1,plan_name:"",storage:1}}function ce(){return{name:"",sequence:null,lab:null}}var ue,de=function(){function e(t){Object(o["a"])(this,e),this.config=t,this.caller=new ae(t)}return Object(c["a"])(e,[{key:"forgetPassword",value:function(e){return re(this.caller.post("/forget-password/",e),null,!0)}},{key:"changePassword",value:function(e){return re(this.caller.put("/reset-password/",e),null,!0)}},{key:"login",value:function(e){return re(this.caller.post("/api-token-auth/",e),{token:"",status:0,id:0,username:"",email:""},!0)}},{key:"getProjectList",value:function(e){return re(this.caller.get("/ProjectM/",e),[],!0)}},{key:"addProjectManagement",value:function(e){return re(this.caller.post("/ProjectM/",e),ce(),!0)}},{key:"deleteProjectManagement",value:function(e){return re(this.caller.delete("/ProjectM/"+"".concat(e,"/"),{}),null,!0)}},{key:"getProjectManagement",value:function(e){return re(this.caller.get("/ProjectM/"+"".concat(e,"/"),{}),null,!0)}},{key:"getPlanList",value:function(e){return re(this.caller.get("/PlanM/",e),[],!0)}},{key:"addPlanManagement",value:function(e){return re(this.caller.post("/PlanM/",e),oe(),!0)}},{key:"getPlanManagement",value:function(e){return re(this.caller.get("/PlanM/"+"".concat(e,"/"),{}),oe(),!0)}},{key:"putPlanManagement",value:function(e,t){return re(this.caller.put("/PlanM/"+"".concat(t,"/"),e),oe(),!0)}},{key:"deletePlanManagement",value:function(e){return re(this.caller.delete("/PlanM/"+"".concat(e,"/"),{}),null,!0)}},{key:"getOTAList",value:function(e){return re(this.caller.get("/ota/",e),[],!0)}},{key:"getOTA",value:function(e){return re(this.caller.get("/ota/"+"".concat(e,"/"),{}),null,!0)}},{key:"addOTA",value:function(e){return re(this.caller.post("/ota/",e),se(),!0)}},{key:"patchOTA",value:function(e,t){return re(this.caller.patch("/ota/"+"".concat(t,"/"),e),null,!0)}},{key:"deleteOTA",value:function(e){return re(this.caller.delete("/ota/"+"".concat(e,"/"),{}),null,!0)}},{key:"getUserAccountList",value:function(e){return re(this.caller.get("/uam/",e),[],!0)}},{key:"getUserAccount",value:function(e){return re(this.caller.get("/uam/".concat(e,"/"),{}),null,!0)}},{key:"addUserAccount",value:function(e){return re(this.caller.post("/uam/",e),null,!0)}},{key:"patchUserAccount",value:function(e,t){return re(this.caller.patch("/uam/"+"".concat(t,"/"),e),null,!0)}},{key:"patchAccountName",value:function(e,t){return re(this.caller.patch("/uam/"+"".concat(t,"/"),{name:e}),null,!0)}},{key:"getDeviceList",value:function(e){return re(this.caller.get("/dm/",e),[],!0)}},{key:"addDeviceManagement",value:function(e){return re(this.caller.post("/dm/",e),null,!0)}},{key:"getDeviceManagement",value:function(e){return re(this.caller.get("/dm/"+"".concat(e,"/"),{}),oe(),!0)}},{key:"deleteDeviceManagement",value:function(e){return re(this.caller.delete("/dm/"+"".concat(e,"/"),{}),null,!0)}},{key:"editDeviceManagement",value:function(e,t){return re(this.caller.patch("/dm/"+"".concat(t,"/"),e),oe(),!0)}},{key:"getDeviceTypeList",value:function(e){return re(this.caller.get("/dmt/",e),[],!0)}},{key:"getLabList",value:function(e){return re(this.caller.get("/lab/",e),[],!0)}},{key:"addLab",value:function(e){return re(this.caller.post("/lab/",e),null,!0)}},{key:"putLab",value:function(e,t){return re(this.caller.put("/lab/"+"".concat(t,"/"),e),le(),!0)}},{key:"deleteLab",value:function(e){return re(this.caller.delete("/lab/"+"".concat(e,"/"),{}),null,!0)}},{key:"getTDBList",value:function(e){return re(this.caller.get("/tdb/",e),[],!0)}},{key:"addTransducerDB",value:function(e){return re(this.caller.post("/tdb/",e),null,!0)}},{key:"editTransducerDB",value:function(e,t){return re(this.caller.put("/tdb/"+"".concat(t,"/"),e),null,!0)}},{key:"deleteTDB",value:function(e){return re(this.caller.delete("/tdb/"+"".concat(e,"/"),{}),null,!0)}},{key:"getTDBSettingList",value:function(e){return re(this.caller.get("/tdbs/",e),[],!0)}},{key:"addTransducerDBSetting",value:function(e){return re(this.caller.post("/tdbs/",e),null,!0)}},{key:"editTransducerDBSetting",value:function(e,t){return re(this.caller.put("/tdbs/"+"".concat(t,"/"),e),null,!0)}},{key:"getTagList",value:function(e){return re(this.caller.get("/gv/",e),[],!0)}},{key:"addTag",value:function(e){return re(this.caller.post("/gv/",e),null,!0)}},{key:"deleteTag",value:function(e){return re(this.caller.delete("/gv/"+"".concat(e,"/"),{}),null,!0)}},{key:"getSmList",value:function(e){return re(this.caller.get("/sm/",e),[],!0)}},{key:"addSm",value:function(e){return re(this.caller.post("/sm/",e),null,!0)}},{key:"getSm",value:function(e){return re(this.caller.get("/sm/"+"".concat(e,"/"),{}),null,!0)}},{key:"editSm",value:function(e,t){return re(this.caller.put("/sm/"+"".concat(t,"/"),e),null,!0)}},{key:"getLevelTimeApi",value:function(e,t){return re(this.caller.get("/iot/8/".concat(e,"/"),t),null,!1)}},{key:"getFourierSpectrumApi",value:function(e,t){return re(this.caller.get("/iot/9/".concat(e,"/"),t),null,!1)}},{key:"getOctaveSpectrumApi",value:function(e,t){return re(this.caller.get("/iot/10/".concat(e,"/"),t),null,!1)}},{key:"doLevelTimeApi",value:function(e,t){return re(this.caller.post("/iot/8/".concat(e,"/"),t),null,!1)}},{key:"doCalculateCurveApi",value:function(e,t){return re(this.caller.post("/iot/11/".concat(e,"/"),t),null,!1)}},{key:"getPALGetReturn",value:function(e){return re(this.caller.post("/iot/7/3/",e),null,!1)}},{key:"getPALSendCommand",value:function(e){return re(this.caller.post("/iot/7/4/",e),null,!1)}},{key:"getPALSendCommandHandle",value:function(e){return re(this.caller.post("/iot/7/5/",e),null,!1)}},{key:"s3upload",value:function(e){return re(this.caller.post("/iot/7/6/",e),null,!1)}},{key:"s3handle",value:function(e){return re(this.caller.post("/iot/7/7/",e),null,!1)}},{key:"doFormatConvertApi",value:function(e){return re(this.caller.post("/iot/14/2/",e),null,!1)}},{key:"doFormatReaderApi",value:function(e){return re(this.caller.post("/iot/15/2/",e),null,!1)}},{key:"doExecuteApi",value:function(e){return re(this.caller.post("/iot/16/2/",e),null,!1)}},{key:"addChannels",value:function(e){return re(this.caller.post("/channel/",e),null,!1)}},{key:"editChannel",value:function(e,t){return re(this.caller.put("/channel/"+"".concat(t,"/"),e),null,!0)}},{key:"upload",value:function(e,t){var a=new FormData;return a.append("audio",e),re(this.caller.axios.post("/audio/",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}),null)}},{key:"postBillingMail",value:function(e){return re(this.caller.post("/mail/billing/",e),null,!0)}},{key:"postForgetPasswordMail",value:function(e){return re(this.caller.post("/mail//mail/forget-password",e),null,!0)}},{key:"postRecoveryMail",value:function(e){return re(this.caller.post("/mail/recovery/",{mail:e}),null,!0)}}]),e}(),me=a("8ded"),pe=a.n(me),fe=function(){function e(){Object(o["a"])(this,e)}return Object(c["a"])(e,null,[{key:"set",value:function(t,a){pe.a.set(e.getNamespaced(t),a)}},{key:"get",value:function(t,a){return pe.a.get(e.getNamespaced(t),a)}},{key:"clear",value:function(){pe.a.clearAll()}},{key:"getNamespaced",value:function(t){return"".concat(e.namespace,".").concat(t)}}]),e}();function be(){var e=fe.get("token","");return e?"JWT ".concat(e):""}fe.namespace="permission";var ve=function(){function e(){Object(o["a"])(this,e)}return Object(c["a"])(e,null,[{key:"buildApiExecutor",value:function(){ue=new de({baseURL:G.API_URL,tokenProvider:be,debug:G.apiDebug})}},{key:"ApiExecutor",get:function(){return ue||this.buildApiExecutor(),ue}}]),e}(),he=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayChangePasswordModal=!1,e.displayProfileModal=!1,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"redirect",value:function(e){this.clearToken(),ve.buildApiExecutor(),this.$router.push({name:e})}},{key:"goToTab",value:function(e){this.$router.push({query:{tab:e}}),this.updateTab(e)}},{key:"dropdownItems",get:function(){var e=this;return 2===this.status?[]:1===this.status?[{label:"My Profile",action:function(){e.displayProfileModal=!0}},{label:"Change password",action:function(){e.displayChangePasswordModal=!0}}]:[{label:"Plan & Setting",action:function(){e.goToTab("PlanSetting")}},{label:"Change password",action:function(){e.displayChangePasswordModal=!0}}]}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/status")],he.prototype,"status",void 0),p["b"]([Object(h["b"])("permission/username")],he.prototype,"username",void 0),p["b"]([Object(h["b"])("permission/email")],he.prototype,"email",void 0),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],he.prototype,"updateTab",void 0),p["b"]([Object(h["a"])(L.CLEAR)],he.prototype,"clearToken",void 0),he=p["b"]([Object(v["a"])({components:{ProfileModal:z,ChangePasswordModal:R}})],he);var ye=he,ge=ye,_e=(a("6b13"),a("6989"),Object(k["a"])(ge,j,w,!1,null,"2499f34b",null)),ke=_e.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("DefaultView")])},Oe=[],je=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),t}(v["e"]);je=p["b"]([v["a"]],je);var we=je,xe=we,Se=Object(k["a"])(xe,De,Oe,!1,null,"d59e4c06",null),Ce=Se.exports,Ae=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"hasTab",value:function(e){return e&&this.tabs.some(function(t){return t.name===e.name})}},{key:"activeTab",get:function(){return this.hasTab(this.currentTab)?this.currentTab.tab:Ce}}]),t}(v["e"]);p["b"]([Object(h["b"])("tabs/all")],Ae.prototype,"tabs",void 0),p["b"]([Object(h["b"])("tabs/currentTab")],Ae.prototype,"currentTab",void 0),Ae=p["b"]([Object(v["a"])({components:{NavMenu:O,SiteHeader:ke}})],Ae);var Te=Ae,Ee=Te,Le=(a("3d48"),a("c5a2"),Object(k["a"])(Ee,l,s,!1,null,"2ba4537e",null)),Me=Le.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"login-container"},[a("el-main",[a("el-row",{staticStyle:{height:"100%"},attrs:{align:"middle",justify:"center",type:"flex"}},[a("el-col",{staticClass:"login-form",attrs:{align:"middle",justify:"space-between",type:"flex"}},[a("img",{attrs:{alt:"logo",src:"http://www.pal-acoustics.com/images/logo.jpg",width:"80"}}),a("div",{staticClass:"sign-in f-bold f-3 dark-gray-color"},[e._v("Account Recovery")]),a("div",{staticClass:"desc"},[e._v("\n          Enter your email address. You will receive an email with a link to reset your password.\n        ")]),a("el-col",[a("el-row",[a("el-form",[a("el-form-item",[a("el-input",{attrs:{placeholder:"Email"},model:{value:e.formData.mail,callback:function(t){e.$set(e.formData,"mail",t)},expression:"formData.mail"}})],1)],1)],1),a("el-row",[a("button",{staticClass:"button",on:{click:e.forget}},[e._v("Next")])]),a("el-row",{attrs:{justify:"center",type:"flex"}},[a("div",{staticClass:"return",on:{click:function(t){return e.redirect("LoginView")}}},[e._v("\n              Return to Sign in\n            ")])])],1)],1)],1)],1)],1)},Ne=[],Re=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData={activated_link:"",mail:""},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"redirect",value:function(e){this.$router.push({name:e})}},{key:"forget",value:function(){var e=this;this.api.postForgetPasswordMail(this.formData).then(function(){e.$alert("Already reset your password","Reset Password").then(function(){return e.redirect("LoginView")})})}}]),t}(v["e"]);Re=p["b"]([v["a"]],Re);var $e=Re,Pe=$e,Fe=(a("53e0"),Object(k["a"])(Pe,qe,Ne,!1,null,"06657f96",null)),Ie=Fe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"login-container"},[a("el-main",[a("el-row",{staticStyle:{height:"100%"},attrs:{align:"middle",justify:"center",type:"flex"}},[a("el-col",{staticClass:"login-form",attrs:{align:"middle",justify:"space-between",type:"flex"}},[a("img",{attrs:{alt:"logo",src:"http://www.pal-acoustics.com/images/logo.jpg",width:"80"}}),a("div",{staticClass:"sign-in"},[e._v("Sign in")]),a("div",{staticClass:"desc"},[e._v("PAL Web Test Platform")]),a("el-col",[a("el-row",[a("el-form",[a("el-form-item",[a("el-input",{attrs:{placeholder:"Mail"},model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account",t)},expression:"formData.account"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("div",{staticClass:"forget",on:{click:function(t){return e.redirect("ForgetPasswordView")}}},[e._v("\n              Forget Password ?\n            ")])]),a("el-row",{staticStyle:{"margin-right":"-4px","margin-left":"-4px"},attrs:{justify:"space-around",type:"flex"}},[a("div",{staticClass:"btn-box"},[a("button",{staticClass:"button",on:{click:function(t){return e.setLoginData("USER")}}},[e._v("USER")])]),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"button",on:{click:function(t){return e.setLoginData("ADMIN")}}},[e._v("ADMIN")])]),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"button",on:{click:function(t){return e.setLoginData("ROOT")}}},[e._v("ROOT")])])]),a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{justify:"space-around",type:"flex"}},[a("button",{staticClass:"button",on:{click:function(t){return e.login("USER")}}},[e._v("Login")])]),a("el-row",{staticClass:"version",attrs:{justify:"end",type:"flex"}},[a("div",[e._v("v "+e._s(e.version))])])],1)],1)],1)],1)],1)},Be=[],Ve=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData={account:"",password:""},e.version="1.20191127",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"redirect",value:function(e){this.$router.push({name:e})}},{key:"setLoginData",value:function(e){this.formData="ROOT"===e?{account:"root@gmail.com",password:"123456"}:"ADMIN"===e?{account:"admin@gmail.com",password:"123456"}:{account:"user@gmail.com",password:"123456"}}},{key:"login",value:function(){var e=this;this.api.login(this.formData).then(function(t){t.hasOwnProperty("errorMessage")?e.$message({type:"error",message:"Login Failure!"}):(e.updatePermission(t),ve.buildApiExecutor(),e.$router.push({name:"App"}),e.$message({type:"success",message:"Login Success!"}))})}}]),t}(v["e"]);p["b"]([Object(h["a"])(L.UPDATE_PERMISSION)],Ve.prototype,"updatePermission",void 0),Ve=p["b"]([v["a"]],Ve);var ze=Ve,Je=ze,Ge=(a("aac9"),Object(k["a"])(Je,Ue,Be,!1,null,"26bcdca2",null)),Ye=Ge.exports,He=a("8c4f");r["default"].use(He["a"]);var Ke=new He["a"]({mode:"history",base:"/eCloud",routes:[{path:"/",name:"LoginView",component:Ye},{path:"/app",name:"App",component:Me},{path:"/forget_password",name:"ForgetPasswordView",component:Ie},{path:"*",component:Ye}]}),We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Admin")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("Add Admin")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","prefix-icon":"pal-icon-calendar","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"pal-icon-search",size:"small"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Account",prop:"account",sortable:""}}),a("el-table-column",{attrs:{label:"Name",prop:"name",sortable:""}}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editAccount(t.row)}}},[e._v("Edit")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:t.row.has_right?"primary":"danger"},on:{click:function(a){return e.enableAccount(t.row)}}},[e._v(e._s(e.statusLabel(t.row.has_right)))])]}}])})],1),a("add-admin-account-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-admin-account-modal",{attrs:{acc:e.editAcc,visible:e.displayEditModal},on:{dismiss:function(t){e.displayEditModal=!1},refresh:e.getData}})],1)},Xe=[],Qe=(a("6762"),a("2fdb"),a("8615"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New",width:"75%"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"User Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"User Email",prop:"account"}},[a("el-input",{model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account",t)},expression:"formData.account"}})],1)],1)],1),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Labs")]),a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{justify:"space-between",type:"flex"}},[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(t){e.displayAddLabModal=!0}}},[e._v("New Lab")]),a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:e.importLab}},[e._v("Import Labs")])],1),a("el-table",{attrs:{data:e.labList,stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Lab Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Device"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.name))]}}])}),a("el-table-column",{attrs:{label:"Serial Num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.serial_num))]}}])}),a("el-table-column",{attrs:{label:"Certificate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.certificate))]}}])}),a("el-table-column",{attrs:{label:"Online"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.online_device)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editLab(t.row)}}},[e._v("Edit")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeLab(t.$index)}}},[e._v("Remove")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyLab(t.row)}}},[e._v("Export Lab")])]}}])})],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Save")])],1),a("add-lab-modal",{attrs:{data:e.duplicateLab,visible:e.displayAddLabModal},on:{"add-lab":e.addLab,dismiss:e.cleanDuplicated}}),a("edit-lab-modal",{attrs:{lab:e.selectedLab,visible:e.displayEditLabModal},on:{dismiss:function(t){e.displayEditLabModal=!1},refresh:e.addLab}})],1)}),Ze=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New",width:"90%"},on:{close:e.clean}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Lab Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Hardware",prop:"device_manager"}},[a("el-select",{attrs:{value:e.formData.device_manager},model:{value:e.formData.device_manager,callback:function(t){e.$set(e.formData,"device_manager",t)},expression:"formData.device_manager"}},e._l(e.deviceList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"description..."},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Save")])],1)],1)},tt=[],at=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},le()),e.deviceList=[],e.rules={name:[{required:!0,message:"Lab Name is required.",trigger:"change"}],device_manager:[{required:!0,message:"Hardware is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"addLab",value:function(e){return e}},{key:"onVisibleChange",value:function(e){var t=this;if(e){null!==this.data&&(this.formData=this.data);var a=!0;this.api.getDeviceList({fields:"id,name",exception:a}).then(function(e){t.deviceList=e})}}},{key:"submit",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addLab(Object.assign({},e.formData)).then(function(t){e.addLab(t.id),e.clean()})})}},{key:"clean",value:function(){this.$refs.form.resetFields(),this.formData=Object.assign({},le()),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["d"])({type:Object,default:function(){return le()}})],at.prototype,"data",void 0),p["b"]([Object(v["b"])("refresh")],at.prototype,"refresh",null),p["b"]([Object(v["b"])()],at.prototype,"addLab",null),p["b"]([Object(v["f"])("visible")],at.prototype,"onVisibleChange",null),at=p["b"]([v["a"]],at);var nt=at,it=nt,rt=Object(k["a"])(it,et,tt,!1,null,"0bf10d73",null),lt=rt.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit",width:"90%"},on:{close:e.dismiss}},[e.lab?a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"Lab Name"}},[a("el-input",{model:{value:e.lab.name,callback:function(t){e.$set(e.lab,"name",t)},expression:"lab.name"}})],1),a("el-form-item",{attrs:{label:"Hardware"}},[a("el-select",{attrs:{value:e.device},model:{value:e.device,callback:function(t){e.device=t},expression:"device"}},e._l(e.deviceList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"description..."},model:{value:e.lab.description,callback:function(t){e.$set(e.lab,"description",t)},expression:"lab.description"}})],1)],1)],1):e._e(),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Save")])],1)],1)},ot=[],ct=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.device=null,e.deviceList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;if(e){this.device=this.lab.device_manager.id;var a=!0;this.api.getDeviceList({fields:"id,name",exception:a}).then(function(e){t.deviceList=e})}}},{key:"submit",value:function(){var e=this,t=Object.assign({},this._.pick(this.lab,["description","name"]),{device_manager:this.device});this.api.putLab(t,this.lab.id).then(function(){e.clean()})}},{key:"clean",value:function(){this.refresh(),this.deviceList=[],this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],ct.prototype,"refresh",null),p["b"]([Object(v["d"])(Object)],ct.prototype,"lab",void 0),p["b"]([Object(v["f"])("visible")],ct.prototype,"onVisibleChange",null),ct=p["b"]([v["a"]],ct);var ut=ct,dt=ut,mt=Object(k["a"])(dt,st,ot,!1,null,"13fb1a0e",null),pt=mt.exports,ft=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddLabModal=!1,e.displayEditLabModal=!1,e.formData={name:"",status:1,account:"",password:"123456",labs:[]},e.labList=[],e.selectedLab=null,e.duplicateLab=null,e.rules={name:[{required:!0,message:"User Name is required.",trigger:"change"}],account:[{required:!0,message:"User Email is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"addLab",value:function(e){var t=this;e&&this.formData.labs.push(e);var a=this.formData.labs.join(",");this.api.getLabList({ids:a}).then(function(e){t.labList=e})}},{key:"copyLab",value:function(e){var t=Object.assign({},this._.pick(e,["description","name"]));this.$copyText(JSON.stringify(t)),this.$message({message:"Lab copied",type:"success"})}},{key:"submit",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addUserAccount(e.formData).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.$refs.form.resetFields(),this.formData={name:"",status:1,account:"",password:"123456",labs:[]},this.dismiss()}},{key:"editLab",value:function(e){this.selectedLab=e,this.displayEditLabModal=!0}},{key:"removeLab",value:function(e){this.labList.splice(e,1)}},{key:"importLab",value:function(){var e=this;navigator.clipboard.readText().then(function(t){e.duplicateLab=JSON.parse(t),e.displayAddLabModal=!0})}},{key:"cleanDuplicated",value:function(){this.displayAddLabModal=!1,this.duplicateLab=null}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],ft.prototype,"refresh",null),ft=p["b"]([Object(v["a"])({components:{EditLabModal:pt,AddLabModal:lt}})],ft);var bt=ft,vt=bt,ht=Object(k["a"])(vt,Qe,Ze,!1,null,"afc0a008",null),yt=ht.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"show-close":!1,visible:e.visible,"append-to-body":"",title:"Edit",width:"75%"},on:{close:e.clean}},[e.formData?a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"User Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1)],1):e._e(),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Labs")]),a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{justify:"space-between",type:"flex"}},[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(t){e.displayAddLabModal=!0}}},[e._v("New Lab")]),a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:e.importLab}},[e._v("Import Labs")])],1),a("el-table",{attrs:{data:e.labList,stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Lab Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Device"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.name))]}}])}),a("el-table-column",{attrs:{label:"Serial Num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.serial_num))]}}])}),a("el-table-column",{attrs:{label:"Certificate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.certificate))]}}])}),a("el-table-column",{attrs:{label:"Online"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.online_device)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editLab(t.row)}}},[e._v("Edit")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeLab(t.$index)}}},[e._v("Remove")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyLab(t.row)}}},[e._v("Export Lab")])]}}])})],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Save")])],1),a("add-lab-modal",{attrs:{data:e.duplicateLab,visible:e.displayAddLabModal},on:{"add-lab":e.addLab,dismiss:e.cleanDuplicated,refresh:e.getData}}),a("edit-lab-modal",{attrs:{lab:e.selectedLab,visible:e.displayEditLabModal},on:{dismiss:function(t){e.displayEditLabModal=!1},refresh:e.getData}})],1)},_t=[],kt=a("75fc"),Dt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=null,e.displayAddLabModal=!1,e.displayEditLabModal=!1,e.labList=[],e.selectedLab=null,e.duplicateLab=null,e.rules={name:[{required:!0,message:"User Name is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e?(this.formData=this.acc,this.getData()):this.formData=null}},{key:"getData",value:function(){var e=this,t=this.formData.labs.map(function(e){return e.id}).join(",");t.length>0&&this.api.getLabList({ids:t}).then(function(t){e.labList=t})}},{key:"addLab",value:function(e){var t=this,a=[].concat(Object(kt["a"])(this.labList.map(function(e){return e.id})),[e]).join(",");this.api.getLabList({ids:a}).then(function(e){t.labList=e})}},{key:"editLab",value:function(e){this.selectedLab=e,this.displayEditLabModal=!0}},{key:"copyLab",value:function(e){var t=Object.assign({},this._.pick(e,["description","name"]));this.$copyText(JSON.stringify(t)),this.$message({message:"Lab copied",type:"success"})}},{key:"submit",value:function(){var e=this,t=this.labList.map(function(e){return e.id}),a=Object.assign({},this._.pick(this.formData,["name"]),{labs:t});this.$refs.form.validate(function(t){if(!t)return!1;e.api.patchUserAccount(a,e.formData.id).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.$refs.form.resetFields(),this.labList=[],this.dismiss()}},{key:"removeLab",value:function(e){this.labList.splice(e,1)}},{key:"importLab",value:function(){var e=this;navigator.clipboard.readText().then(function(t){e.duplicateLab=JSON.parse(t),e.displayAddLabModal=!0})}},{key:"cleanDuplicated",value:function(){this.displayAddLabModal=!1,this.duplicateLab=null}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Dt.prototype,"refresh",null),p["b"]([Object(v["d"])(Object)],Dt.prototype,"acc",void 0),p["b"]([Object(v["f"])("visible")],Dt.prototype,"onVisibleChange",null),Dt=p["b"]([Object(v["a"])({components:{EditLabModal:pt,AddLabModal:lt}})],Dt);var Ot=Dt,jt=Ot,wt=Object(k["a"])(jt,gt,_t,!1,null,"25313566",null),xt=wt.exports,St=a("340b");function Ct(e,t){return e?Object(St["format"])(e,t):""}var At=a("2ef0");function Tt(e){return Object(At["isEmpty"])(e)?["",""]:[Ct(e[0],"YYYY-MM-DD"),Ct(e[1],"YYYY-MM-DD")]}function Et(e){return Object.keys(e).map(function(t){return"".concat(t,":").concat(e[t])}).join(",")}var Lt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e.displayAddModal=!1,e.displayEditModal=!1,e.editAcc=null,e.formData={status:1},e.originalData=[],e.searchDate=null,e.searchString="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=this._.cloneDeep(this.formData);if(!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);t=Object.assign({},t,{gte:a[0],lte:a[1]})}this.api.getUserAccountList({query:Et(t)}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}},{key:"editAccount",value:function(e){this.editAcc=e,this.displayEditModal=!0}},{key:"statusLabel",value:function(e){return e?"Disable":"Enable"}},{key:"enableAccount",value:function(e){var t=this;this.$confirm("Are you sure?","".concat(this.statusLabel(e.has_right)," Account")).then(function(){e.has_right||t.api.postRecoveryMail(e.account).catch(console.warn),t.api.patchUserAccount({has_right:!e.has_right},e.id).then(function(){return t.getData()})})}}]),t}(v["e"]);Lt=p["b"]([Object(v["a"])({components:{EditAdminAccountModal:xt,AddAdminAccountModal:yt}})],Lt);var Mt=Lt,qt=Mt,Nt=(a("dfcf"),Object(k["a"])(qt,We,Xe,!1,null,"407216b9",null)),Rt=Nt.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{height:"100%"},attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:12,type:"flex"}},[a("h3",[e._v("Change your password?")]),a("el-col",{attrs:{span:18}},[a("el-row",{staticClass:"change-form"},[a("el-form",[a("el-form-item",[a("el-input",{attrs:{placeholder:"Password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"Password Confirm"},model:{value:e.formData.confirm_password,callback:function(t){e.$set(e.formData,"confirm_password",t)},expression:"formData.confirm_password"}})],1)],1)],1),a("el-row",{attrs:{justify:"end",type:"flex"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.redirect("App")}}},[e._v("Confirm")])],1)],1)],1)],1)},Pt=[],Ft=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData={password:"",confirm_password:""},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"redirect",value:function(e){this.$router.push({name:e})}}]),t}(v["e"]);Ft=p["b"]([v["a"]],Ft);var It=Ft,Ut=It,Bt=(a("9290"),Object(k["a"])(Ut,$t,Pt,!1,null,"03bd6f14",null)),Vt=Bt.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Device")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("New IoT Device")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange","prefix-icon":"pal-icon-calendar"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-input",{attrs:{size:"small","prefix-icon":"pal-icon-search"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-table",{attrs:{stripe:"",data:e.data,size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Name",prop:"name",sortable:""}}),a("el-table-column",{attrs:{label:"Ch Num",prop:"ch_num",sortable:""}}),a("el-table-column",{attrs:{label:"Note",prop:"note",sortable:""}}),a("el-table-column",{attrs:{label:"Serial Num",prop:"serial_num",sortable:""}}),a("el-table-column",{attrs:{label:"Certificate",prop:"certificate",sortable:""}}),a("el-table-column",{attrs:{label:"Device Online",prop:"online_device",sortable:""}}),a("el-table-column",{attrs:{label:"Created Date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editDevice(t.row.id)}}},[e._v("Edit")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteDevice(t.row.id)}}},[e._v("Remove")])]}}])})],1),a("add-device-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-device-modal",{attrs:{id:e.editId,visible:e.displayEditModal},on:{dismiss:e.closeEdit,refresh:e.getData}})],1)},Jt=[],Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New IoT Device",width:"400px"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Hardware Type"}},[a("el-select",{attrs:{value:e.hardware_type},model:{value:e.hardware_type,callback:function(t){e.hardware_type=t},expression:"hardware_type"}},e._l(e.hardwareList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"Ch Num"}},[a("el-select",{attrs:{value:e.formData.ch_num},model:{value:e.formData.ch_num,callback:function(t){e.$set(e.formData,"ch_num",t)},expression:"formData.ch_num"}},[a("el-option",{attrs:{label:8,value:8}}),a("el-option",{attrs:{label:16,value:16}})],1)],1),a("el-form-item",{attrs:{label:"Note"}},[a("el-input",{model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1),a("el-form-item",{attrs:{label:"Serial Num",prop:"serial_num"}},[a("el-input",{model:{value:e.formData.serial_num,callback:function(t){e.$set(e.formData,"serial_num",t)},expression:"formData.serial_num"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Yt=[];function Ht(){return{ch_num:8,name:"",note:"",serial_num:""}}var Kt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},Ht()),e.hardware_type=null,e.hardwareList=[],e.rules={name:[{required:!0,message:"Name is required.",trigger:"change"}],serial_num:[{required:!0,message:"Serial Number is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"beforeMount",value:function(){var e=this;this.api.getDeviceTypeList({fields:"id,name"}).then(function(t){e.hardwareList=t})}},{key:"add",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addDeviceManagement(e.formData).then(function(t){t.hasOwnProperty("errorMessage")?(console.log(t),e.$message({message:t.errorMessage.serial_num,type:"error"})):(e.refresh(),e.clean())})})}},{key:"clean",value:function(){this.$refs.form.resetFields(),this.formData=Object.assign({},Ht()),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Kt.prototype,"refresh",null),Kt=p["b"]([v["a"]],Kt);var Wt=Kt,Xt=Wt,Qt=(a("efeb"),Object(k["a"])(Xt,Gt,Yt,!1,null,"2ec9e619",null)),Zt=Qt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit IoT Device",width:"50%"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Hardware Type"}},[a("el-select",{attrs:{value:e.hardware_type},model:{value:e.hardware_type,callback:function(t){e.hardware_type=t},expression:"hardware_type"}},e._l(e.hardwareList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"Ch Num"}},[a("el-select",{attrs:{value:e.formData.ch_num},model:{value:e.formData.ch_num,callback:function(t){e.$set(e.formData,"ch_num",t)},expression:"formData.ch_num"}},[a("el-option",{attrs:{label:8,value:8}}),a("el-option",{attrs:{label:16,value:16}})],1)],1),a("el-form-item",{attrs:{label:"Note"}},[a("el-input",{model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1),a("el-form-item",{attrs:{label:"Serial Num",prop:"serial_num"}},[a("el-input",{model:{value:e.formData.serial_num,callback:function(t){e.$set(e.formData,"serial_num",t)},expression:"formData.serial_num"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editDeviceManagement}},[e._v("Save")])],1)],1)},ta=[],aa=(a("c5f6"),function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},Ht()),e.hardware_type=null,e.hardwareList=[],e.rules={name:[{required:!0,message:"Name is required.",trigger:"change"}],serial_num:[{required:!0,message:"Serial Number is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"beforeMount",value:function(){var e=this;this.api.getDeviceTypeList({fields:"id,name"}).then(function(t){e.hardwareList=t})}},{key:"onVisibleChange",value:function(e){e?this.getEditDevice():this.formData=Object.assign({},Ht())}},{key:"getEditDevice",value:function(){var e=this;this.api.getDeviceManagement(this.id).then(function(t){e.formData=t})}},{key:"editDeviceManagement",value:function(){var e=this,t=this._.pick(this.formData,["ch_num","name","note","serial_num"]);this.$refs.form.validate(function(a){if(!a)return!1;e.api.editDeviceManagement(t,e.id).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.formData=Object.assign({},Ht()),this.dismiss()}}]),t}(Object(v["c"])(A)));p["b"]([Object(v["b"])("refresh")],aa.prototype,"refresh",null),p["b"]([Object(v["d"])(Number)],aa.prototype,"id",void 0),p["b"]([Object(v["f"])("visible")],aa.prototype,"onVisibleChange",null),aa=p["b"]([v["a"]],aa);var na=aa,ia=na,ra=Object(k["a"])(ia,ea,ta,!1,null,"e9926bb8",null),la=ra.exports,sa=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddModal=!1,e.displayEditModal=!1,e.data=[],e.originalData=[],e.searchDate=null,e.searchString="",e.editId=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=null;if(!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);t=Et({gte:a[0],lte:a[1]})}this.api.getDeviceList({query:t}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"deleteDevice",value:function(e){var t=this;this.$confirm("Do you want to delete this Device?","Delete",{}).then(function(){t.api.deleteDeviceManagement(e).then(function(){t.getData(),t.$message({type:"success",message:"success!"})})}).catch(function(){t.$message({type:"info",message:"cancel"})})}},{key:"editDevice",value:function(e){this.editId=e,this.displayEditModal=!0}},{key:"closeEdit",value:function(){this.displayEditModal=!1,this.editId=0}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}}]),t}(v["e"]);sa=p["b"]([Object(v["a"])({components:{EditDeviceModal:la,AddDeviceModal:Zt}})],sa);var oa=sa,ca=oa,ua=(a("bb45"),Object(k["a"])(ca,zt,Jt,!1,null,"aa910cb2",null)),da=ua.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header",attrs:{type:"flex",justify:"space-between"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("My Labs")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),e._l(e.data,function(t,n){return a("el-card",{key:n,class:"lab-wrapper "+e.labStatus(t),attrs:{shadow:"hover"}},[a("el-row",{staticStyle:{display:"flex"}},[a("el-col",{staticStyle:{cursor:"pointer"},attrs:{span:23},nativeOn:{click:function(a){return e.goToProject(t)}}},[a("el-row",[a("div",{staticClass:"lab-title"},[e._v(e._s(t.name)+" ("+e._s(e.labStatusLabel(t))+")")])]),a("el-row",{staticClass:"lab-content"},[a("div",{staticClass:"content-wrapper"},[e._v("\n            "+e._s(t.description)+"\n          ")])])],1),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{display:"table",height:"100%"}},[a("div",{staticClass:"lab-icon",staticStyle:{display:"table-cell","vertical-align":"middle"}},[a("i",{staticClass:"el-icon-s-tools",on:{click:function(a){return e.goToTDBSetting(t)}}})])])])],1)],1)})],2)},pa=[],fa=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"goToTDBSetting",value:function(e){this.$router.push({query:{tab:"TransducerDbSettings",id:String(e.id),ch:String(e.device_manager.ch_num),sn:String(e.device_manager.serial_num)}}),this.updateTab("TransducerDbSettings")}},{key:"goToProject",value:function(e){this.$router.push({query:{tab:"ProjectManager",id:String(e.id)}}),this.updateTab("ProjectManager")}},{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.api.getLabList({query:Et({user:this.id})}).then(function(t){e.data=t})}},{key:"labStatus",value:function(e){var t=e.device_manager,a=e.status,n=t.online_device;return n?a>1?"danger":a>0?"warn":"normal":"off-line"}},{key:"labStatusLabel",value:function(e){var t=e.device_manager,a=e.status,n=t.online_device;return n?a>1?"Occupied":a>0?"Viewing":"Available":"Offline"}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/id")],fa.prototype,"id",void 0),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],fa.prototype,"updateTab",void 0),fa=p["b"]([v["a"]],fa);var ba=fa,va=ba,ha=(a("1dfc"),Object(k["a"])(va,ma,pa,!1,null,"150931d7",null)),ya=ha.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("Upload")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange","prefix-icon":"pal-icon-calendar"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-input",{attrs:{size:"small","prefix-icon":"pal-icon-search"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Version",prop:"version",sortable:""}}),a("el-table-column",{attrs:{label:"Checksum",prop:"check_sum",sortable:""}}),a("el-table-column",{attrs:{label:"Create Date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{href:t.row.download_url,target:"_blank",type:"primary"}},[e._v("Download ")]),e._v(" |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editOTA(t.row.id)}}},[e._v("Edit ")]),e._v(" |\n        "),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteOTA(t.row.id)}}},[e._v("Remove")])]}}])})],1),a("add-o-t-a-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-o-t-a-modal",{attrs:{visible:e.displayEditModal,id:e.editId},on:{dismiss:function(t){e.displayEditModal=!1},refresh:e.getData}})],1)},_a=[],ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Upload Firmware"},on:{close:e.clean}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Version",prop:"version"}},[a("el-input",{model:{value:e.formData.version,callback:function(t){e.$set(e.formData,"version",t)},expression:"formData.version"}})],1),a("el-form-item",{attrs:{label:"Checksum",prop:"check_sum"}},[a("el-input",{model:{value:e.formData.check_sum,callback:function(t){e.$set(e.formData,"check_sum",t)},expression:"formData.check_sum"}})],1),a("el-form-item",{attrs:{label:"Upload Firmware",prop:"download_url"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.download_url,callback:function(t){e.$set(e.formData,"download_url",t)},expression:"formData.download_url"}}),a("el-upload",{ref:"upload",attrs:{action:"","http-request":e.upload,"show-file-list":!1}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"}},[e._v("Upload")])],1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{disabled:e.isUploading,type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Da=[],Oa=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},se()),e.rules={version:[{required:!0,message:"Version is required.",trigger:"change"}],download_url:[{required:!0,message:"Upload Firmware is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"add",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addOTA(e.formData).then(function(){e.refresh(),e.clean()})})}},{key:"upload",value:function(e){var t=this;return this.formData.download_url="uploading...",this.api.upload(e.file,"firmware").then(function(e){console.log(e),t.formData.download_url=e}).catch(console.error)}},{key:"clean",value:function(){this.formData=Object.assign({},se()),this.dismiss()}},{key:"isUploading",get:function(){return"uploading..."===this.formData.download_url}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Oa.prototype,"refresh",null),Oa=p["b"]([v["a"]],Oa);var ja=Oa,wa=ja,xa=Object(k["a"])(wa,ka,Da,!1,null,"fec195ca",null),Sa=xa.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit Firmware"},on:{close:e.clean}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Version",prop:"version"}},[a("el-input",{model:{value:e.formData.version,callback:function(t){e.$set(e.formData,"version",t)},expression:"formData.version"}})],1),a("el-form-item",{attrs:{label:"Checksum",prop:"check_sum"}},[a("el-input",{model:{value:e.formData.check_sum,callback:function(t){e.$set(e.formData,"check_sum",t)},expression:"formData.check_sum"}})],1),a("el-form-item",{attrs:{label:"Upload Firmware",prop:"download_url"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.download_url,callback:function(t){e.$set(e.formData,"download_url",t)},expression:"formData.download_url"}}),a("el-upload",{ref:"upload",attrs:{action:"","http-request":e.upload,"show-file-list":!1}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"}},[e._v("Upload")])],1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{disabled:e.isUploading,type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Aa=[],Ta=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},se()),e.rules={version:[{required:!0,message:"Version is required.",trigger:"change"}],download_url:[{required:!0,message:"Upload Firmware is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e?this.getEditOTA():this.formData=Object.assign({},se())}},{key:"getEditOTA",value:function(){var e=this;this.api.getOTA(this.id).then(function(t){e.formData=t})}},{key:"add",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.patchOTA(e.formData,e.id).then(function(){e.refresh(),e.clean()})})}},{key:"upload",value:function(e){var t=this;return this.formData.download_url="uploading...",this.api.upload(e.file,"firmware").then(function(e){t.formData.download_url=e}).catch(console.error)}},{key:"clean",value:function(){this.formData=Object.assign({},se()),this.dismiss()}},{key:"isUploading",get:function(){return"uploading..."===this.formData.download_url}}]),t}(Object(v["c"])(A));p["b"]([Object(v["d"])(Number)],Ta.prototype,"id",void 0),p["b"]([Object(v["b"])("refresh")],Ta.prototype,"refresh",null),p["b"]([Object(v["f"])("visible")],Ta.prototype,"onVisibleChange",null),Ta=p["b"]([v["a"]],Ta);var Ea=Ta,La=Ea,Ma=Object(k["a"])(La,Ca,Aa,!1,null,"ee17e25c",null),qa=Ma.exports,Na=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddModal=!1,e.displayEditModal=!1,e.searchDate=null,e.searchString="",e.data=[],e.originalData=[],e.editId=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=null;if(!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);t=Et({gte:a[0],lte:a[1]})}this.api.getOTAList({query:t}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}},{key:"editOTA",value:function(e){this.editId=e,this.displayEditModal=!0}},{key:"deleteOTA",value:function(e){var t=this;this.$confirm("Do you want to delete this OTA?","Delete",{}).then(function(){t.api.deleteOTA(e).then(function(){t.getData(),t.$message({type:"success",message:"success!"})})}).catch(function(){t.$message({type:"info",message:"cancel"})})}}]),t}(v["e"]);Na=p["b"]([Object(v["a"])({components:{EditOTAModal:qa,AddOTAModal:Sa}})],Na);var Ra=Na,$a=Ra,Pa=(a("94a8"),Object(k["a"])($a,ga,_a,!1,null,"19c9b606",null)),Fa=Pa.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Plan")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("Add Plan")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-input",{attrs:{size:"small","prefix-icon":"pal-icon-search"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Plan Name",prop:"plan_name",sortable:"","min-width":"120"}}),a("el-table-column",{attrs:{label:"Basic Fee(NT$)",prop:"basic_fee",sortable:"","min-width":"140"}}),a("el-table-column",{attrs:{label:"Network traffic unit price(per GB)",prop:"network_traffic",sortable:"","min-width":"240"}}),a("el-table-column",{attrs:{label:"Storage unit price(per GB)",prop:"storage",sortable:"","min-width":"200"}}),a("el-table-column",{attrs:{label:"API time unit price",prop:"api_price_per_time",sortable:"","min-width":"160"}}),a("el-table-column",{attrs:{label:"Ｍarkup multiplier",prop:"markup_multiplier",sortable:"","min-width":"150"}}),a("el-table-column",{attrs:{label:"Action","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editPlan(t.row.id)}}},[e._v("Edit")]),t.row.has_user?e._e():[e._v("\n          | "),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deletePlan(t.row.id)}}},[e._v("Delete")])]]}}])})],1),a("add-plan-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-plan-modal",{attrs:{id:e.editId,visible:e.displayEditModal},on:{dismiss:e.closeEdit,refresh:e.getData}})],1)},Ua=[],Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Plan"},on:{close:e.clean}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Plan Name",prop:"plan_name"}},[a("el-input",{model:{value:e.formData.plan_name,callback:function(t){e.$set(e.formData,"plan_name",t)},expression:"formData.plan_name"}})],1),a("el-form-item",{attrs:{label:"Basic Fee(NT$)",prop:"basic_fee"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.basic_fee,callback:function(t){e.$set(e.formData,"basic_fee",t)},expression:"formData.basic_fee"}})],1),a("el-form-item",{attrs:{label:"Storage unit price(per GB)",prop:"storage"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.storage,callback:function(t){e.$set(e.formData,"storage",t)},expression:"formData.storage"}})],1),a("el-form-item",{attrs:{label:"Network traffic unit price(per GB)",prop:"network_traffic"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.network_traffic,callback:function(t){e.$set(e.formData,"network_traffic",t)},expression:"formData.network_traffic"}})],1),a("el-form-item",{attrs:{label:"API time unit price",prop:"api_price_per_time"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.api_price_per_time,callback:function(t){e.$set(e.formData,"api_price_per_time",t)},expression:"formData.api_price_per_time"}})],1),a("el-form-item",{attrs:{label:"Markup multiplier",prop:"markup_multiplier"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.markup_multiplier,callback:function(t){e.$set(e.formData,"markup_multiplier",t)},expression:"formData.markup_multiplier"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Va=[],za=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},oe()),e.rules={plan_name:[{required:!0,message:"Plan Name is required.",trigger:"change"}],basic_fee:[{required:!0,message:"Basic Fee(NT$) is required.",trigger:"change"}],storage:[{required:!0,message:"Storage unit price(per GB) is required.",trigger:"change"}],network_traffic:[{required:!0,message:"Network traffic unit price(per GB) is required.",trigger:"change"}],api_price_per_time:[{required:!0,message:"API time unit price is required.",trigger:"change"}],markup_multiplier:[{required:!0,message:"Ｍarkup multiplier is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"add",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addPlanManagement(e.formData).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.formData=Object.assign({},oe()),this.$refs.form.resetFields(),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],za.prototype,"refresh",null),za=p["b"]([v["a"]],za);var Ja=za,Ga=Ja,Ya=Object(k["a"])(Ga,Ba,Va,!1,null,"907d337c",null),Ha=Ya.exports,Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Plan"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Plan Name",prop:"plan_name"}},[a("el-input",{model:{value:e.formData.plan_name,callback:function(t){e.$set(e.formData,"plan_name",t)},expression:"formData.plan_name"}})],1),a("el-form-item",{attrs:{label:"Basic Fee(NT$)",prop:"basic_fee"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.basic_fee,callback:function(t){e.$set(e.formData,"basic_fee",t)},expression:"formData.basic_fee"}})],1),a("el-form-item",{attrs:{label:"Storage unit price(per GB)",prop:"storage"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.storage,callback:function(t){e.$set(e.formData,"storage",t)},expression:"formData.storage"}})],1),a("el-form-item",{attrs:{label:"Network traffic unit price(per GB)",prop:"network_traffic"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.network_traffic,callback:function(t){e.$set(e.formData,"network_traffic",t)},expression:"formData.network_traffic"}})],1),a("el-form-item",{attrs:{label:"API time unit price",prop:"api_price_per_time"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.api_price_per_time,callback:function(t){e.$set(e.formData,"api_price_per_time",t)},expression:"formData.api_price_per_time"}})],1),a("el-form-item",{attrs:{label:"Ｍarkup multiplier",prop:"markup_multiplier"}},[a("el-input-number",{attrs:{min:1,controls:!1},model:{value:e.formData.markup_multiplier,callback:function(t){e.$set(e.formData,"markup_multiplier",t)},expression:"formData.markup_multiplier"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.putPlanManagement}},[e._v("Save")])],1)],1)},Wa=[],Xa=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},oe()),e.rules={plan_name:[{required:!0,message:"Plan Name is required.",trigger:"change"}],basic_fee:[{required:!0,message:"Basic Fee(NT$) is required.",trigger:"change"}],storage:[{required:!0,message:"Storage unit price(per GB) is required.",trigger:"change"}],network_traffic:[{required:!0,message:"Network traffic unit price(per GB) is required.",trigger:"change"}],api_price_per_time:[{required:!0,message:"API time unit price is required.",trigger:"change"}],markup_multiplier:[{required:!0,message:"Ｍarkup multiplier is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e?this.getEditPlan():this.formData=Object.assign({},oe())}},{key:"getEditPlan",value:function(){var e=this;this.api.getPlanManagement(this.id).then(function(t){e.formData=t})}},{key:"putPlanManagement",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var a=Object.assign({},e._.omit(e.formData,["has_user"]));e.api.putPlanManagement(a,e.id).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.formData=Object.assign({},oe()),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Xa.prototype,"refresh",null),p["b"]([Object(v["d"])(Number)],Xa.prototype,"id",void 0),p["b"]([Object(v["f"])("visible")],Xa.prototype,"onVisibleChange",null),Xa=p["b"]([v["a"]],Xa);var Qa=Xa,Za=Qa,en=Object(k["a"])(Za,Ka,Wa,!1,null,"43f4b813",null),tn=en.exports,an=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddModal=!1,e.displayEditModal=!1,e.editId=0,e.searchString="",e.data=[],e.originalData=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.api.getPlanList().then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"editPlan",value:function(e){this.editId=e,this.displayEditModal=!0}},{key:"deletePlan",value:function(e){var t=this;this.$confirm("Do you want to delete this plan?","Delete",{}).then(function(){t.api.deletePlanManagement(e).then(function(){t.getData(),t.$message({type:"success",message:"success!"})})}).catch(function(){t.$message({type:"info",message:"cancel"})})}},{key:"closeEdit",value:function(){this.displayEditModal=!1,this.editId=0}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}}]),t}(v["e"]);an=p["b"]([Object(v["a"])({components:{EditPlanModal:tn,AddPlanModal:Ha}})],an);var nn=an,rn=nn,ln=(a("4e73"),Object(k["a"])(rn,Ia,Ua,!1,null,"7bf64fc4",null)),sn=ln.exports,on=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{attrs:{"label-width":"250px",size:"mini","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"User Name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.name,callback:function(t){e.$set(e.account,"name",t)},expression:"account.name"}})],1),a("el-form-item",{attrs:{label:"User Email"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.account,callback:function(t){e.$set(e.account,"account",t)},expression:"account.account"}})],1),a("el-form-item",{attrs:{label:"Company Name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.company_name,callback:function(t){e.$set(e.account,"company_name",t)},expression:"account.company_name"}})],1),a("el-form-item",{attrs:{label:"Company Id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.company_id,callback:function(t){e.$set(e.account,"company_id",t)},expression:"account.company_id"}})],1),a("el-form-item",{attrs:{label:"Company Address"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.company_address,callback:function(t){e.$set(e.account,"company_address",t)},expression:"account.company_address"}})],1),a("el-form-item",{attrs:{label:"Tax ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.tax_id,callback:function(t){e.$set(e.account,"tax_id",t)},expression:"account.tax_id"}})],1),a("el-form-item",{attrs:{label:"Phone Number"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.work_phone,callback:function(t){e.$set(e.account,"work_phone",t)},expression:"account.work_phone"}})],1),a("el-form-item",{attrs:{label:"2. Mobile Phone"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.mobile_phone,callback:function(t){e.$set(e.account,"mobile_phone",t)},expression:"account.mobile_phone"}})],1),a("el-form-item",{attrs:{label:"3. Invoicing Delivery address"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.invoicing_delivery_address,callback:function(t){e.$set(e.account,"invoicing_delivery_address",t)},expression:"account.invoicing_delivery_address"}})],1),a("el-form-item",{attrs:{label:"4. Payment Term"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.payment_term,callback:function(t){e.$set(e.account,"payment_term",t)},expression:"account.payment_term"}})],1),a("el-form-item",{attrs:{label:"Monthly Payment Upper Limit(NTD)"}},[a("el-input",{attrs:{disabled:""},model:{value:e.account.monthly_payment_upper_limit,callback:function(t){e.$set(e.account,"monthly_payment_upper_limit",t)},expression:"account.monthly_payment_upper_limit"}})],1),a("el-form-item",{attrs:{label:"Quota Alert"}},[a("el-input",{attrs:{disabled:""}})],1)],1)],1)],1),a("el-row",[a("div",{staticClass:"table-title"},[e._v("Your Billing Status")]),a("el-table",{attrs:{stripe:"",data:e.billingStatus,size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Account",prop:"account"}}),a("el-table-column",{attrs:{label:"Labs",prop:"labs"}}),a("el-table-column",{attrs:{label:"Network traffic(GB)",prop:"traffic"}}),a("el-table-column",{attrs:{label:"Storage",prop:"storage"}}),a("el-table-column",{attrs:{label:"API time",prop:"api_time"}}),a("el-table-column",{attrs:{label:"Quota",prop:"quota"}}),a("el-table-column",{attrs:{label:"Deactivate",prop:"status"}}),a("el-table-column",{attrs:{label:"Billing status",prop:"billing_status"}}),a("el-table-column",{attrs:{label:"Plan"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.plan_management.plan_name)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])})],1)],1),a("el-row",[a("div",{staticClass:"table-title"},[e._v("Your Labs")]),a("el-table",{attrs:{stripe:"",data:e.labList,size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Lab Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Device"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.device_manager.name)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Serial Num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.device_manager.serial_num)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Certificate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.certificate))]}}])}),a("el-table-column",{attrs:{label:"Online"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.online_device)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])})],1)],1)],1)},cn=[],un=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.account=null,e.billingStatus=[],e.labList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.api.getUserAccount(this.id).then(function(t){e.account=t,e.api.getLabList({ids:t.labs.map(function(e){return e.id}).join(",")}).then(function(t){e.labList=t,console.log(t)}),e.billingStatus=[Object.assign({},t,{labs:t.labs.map(function(e){return e.name}).join(",")})]})}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/id")],un.prototype,"id",void 0),un=p["b"]([v["a"]],un);var dn=un,mn=dn,pn=(a("7fa4"),Object(k["a"])(mn,on,cn,!1,null,"2d978eec",null)),fn=pn.exports,bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Project")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("Add Project")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","prefix-icon":"pal-icon-calendar","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1)],1)],1)],1),a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.goToTab(t.row.id)}}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"Sequence name"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.sequence.sequence_name)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Status",prop:"status"}}),a("el-table-column",{attrs:{label:"Actions",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.runProject(t.row)}}},[e._v("Run")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.load(t)}}},[e._v("Load")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.remove(t.row)}}},[e._v("Remove")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.report(t)}}},[e._v("Report")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.getReturn(t.row)}}},[e._v("Version")])]}}])})],1),a("add-project-modal",{attrs:{visible:e.displayAddModal,id:Number(e.labId)},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("project-report-modal",{attrs:{visible:e.displayReportModal},on:{dismiss:function(t){e.displayReportModal=!1}}})],1)},vn=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Project"},on:{close:e.clean}},[a("el-form",[a("el-form-item",{attrs:{label:"Project Name:"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Select Tag:"}},[a("el-select",{attrs:{placeholder:"Choose Tag",value:e.selectedTag},on:{change:e.onSelectTag},model:{value:e.selectedTag,callback:function(t){e.selectedTag=t},expression:"selectedTag"}},[a("el-option",{attrs:{label:"ALL",value:-1}}),e._l(e.tagList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})],2)],1),e.selectedTag?a("el-form-item",{attrs:{label:"Select Sequence:"}},[a("el-select",{attrs:{placeholder:"Choose Sequence",value:e.formData.sequence},model:{value:e.formData.sequence,callback:function(t){e.$set(e.formData,"sequence",t)},expression:"formData.sequence"}},e._l(e.sequenceOptions,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.sequence_name,value:e.id}})}),1)}),1)],1):e._e()],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)},yn=[],gn=(a("28a5"),function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},ce()),e.sequenceOptions=[{label:"Global Sequence",options:[]},{label:"Your Sequence",options:[]}],e.originalSequenceOptions=[{label:"Global Sequence",options:[]},{label:"Your Sequence",options:[]}],e.selectedTag=-1,e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;e?(this.formData.lab=this.id,this.api.getTagList(null).then(function(e){t.tagList=e}),this.api.getSmList({query:Et({is_customize:"False"})}).then(function(e){t.originalSequenceOptions[0].options=e,t.sequenceOptions[0].options=t.originalSequenceOptions[0].options}),this.api.getSmList({query:Et({user:this.userId,is_customize:"True"})}).then(function(e){t.originalSequenceOptions[1].options=e,t.sequenceOptions[1].options=t.originalSequenceOptions[1].options})):this.clean()}},{key:"goToTab",value:function(e){this.$router.push({query:{tab:"ProjectWorker",id:String(e)}}),this.updateTab("ProjectWorker")}},{key:"save",value:function(){var e=this;this.api.addProjectManagement(this.formData).then(function(t){e.refresh(),e.clean(),e.goToTab(t.id)})}},{key:"clean",value:function(){this.selectedTag=null,this.sequenceOptions=[{label:"Global Sequence",options:[]},{label:"Your Sequence",options:[]}],this.originalSequenceOptions=[{label:"Global Sequence",options:[]},{label:"Your Sequence",options:[]}],this.formData=Object.assign({},ce()),this.dismiss()}},{key:"onSelectTag",value:function(e){-1===e?(this.sequenceOptions[0].options=this.originalSequenceOptions[0].options,this.sequenceOptions[1].options=this.originalSequenceOptions[1].options):(this.sequenceOptions[0].options=this.originalSequenceOptions[0].options.filter(function(t){return t.tags.split(",").includes(String(e))}),this.sequenceOptions[1].options=this.originalSequenceOptions[1].options.filter(function(t){return t.tags.split(",").includes(String(e))}))}}]),t}(Object(v["c"])(A)));p["b"]([Object(h["b"])("permission/id")],gn.prototype,"userId",void 0),p["b"]([Object(v["d"])(Number)],gn.prototype,"id",void 0),p["b"]([Object(v["b"])("refresh")],gn.prototype,"refresh",null),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],gn.prototype,"updateTab",void 0),p["b"]([Object(v["f"])("visible")],gn.prototype,"onVisibleChange",null),gn=p["b"]([v["a"]],gn);var _n=gn,kn=_n,Dn=Object(k["a"])(kn,hn,yn,!1,null,"89e3e6e2",null),On=Dn.exports,jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Report"},on:{close:e.dismiss}},[a("el-table",{attrs:{data:e.mockData,border:"",size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Report Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Created",prop:"created"}}),a("el-table-column",{attrs:{label:"Actions"}},[[a("el-link",{attrs:{type:"primary"}},[e._v("View")])]],2)],1)],1)},wn=[],xn=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.mockData=[{name:"Project-Sequence A.pdf",created:"2019/01/08"},{name:"Project-Sequence B.pdf",created:"1223/01/08"},{name:"Project-Sequence C.pdf",created:"1999/01/08"},{name:"Project-Sequence D.pdf",created:"2019/01/08"}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],xn.prototype,"refresh",null),xn=p["b"]([v["a"]],xn);var Sn=xn,Cn=Sn,An=Object(k["a"])(Cn,jn,wn,!1,null,"cd50f214",null),Tn=An.exports,En=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.filename=null,e.displayAddModal=!1,e.displayReportModal=!1,e.searchDate=null,e.labId="",e.data=[],e.timer=null,e.delay=function(e){return new Promise(function(t){setTimeout(t,e)})},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"goToTab",value:function(e){this.$router.push({query:{tab:"ProjectWorker",id:String(e)}}),this.updateTab("ProjectWorker")}},{key:"beforeMount",value:function(){this.labId=String(this.$route.query.id),this.getData()}},{key:"getData",value:function(){var e=this,t=null;if(!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);t=Object.assign({},t,{gte:a[0],lte:a[1]})}t=Et(Object.assign({},t,{lab:this.labId})),this.api.getProjectList({query:t}).then(function(t){e.data=t})}},{key:"load",value:function(e){this.$confirm("Are you sure ?","Load project",{confirmButtonText:"save",cancelButtonText:"cancel"})}},{key:"report",value:function(e){this.displayReportModal=!0}},{key:"remove",value:function(e){var t=this;this.$confirm("Are you sure delete ".concat(e.name," ?"),"Delete project",{confirmButtonText:"save",cancelButtonText:"cancel"}).then(function(){t.api.deleteProjectManagement(e.id).then(function(){t.getData(),t.$message({type:"success",message:"Success!"})})})}},{key:"getReturn",value:function(e){var t=this,a=e.lab.device_manager.serial_num;this.api.getPALSendCommand({id:a,cmd:"version"}).then(function(){t.timer=setTimeout(function(){t.api.getPALGetReturn({id:a}).then(function(e){t.$alert(e),clearTimeout(t.timer)})},1e3)})}},{key:"runProject",value:function(e){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=JSON.parse(e.sequence.content).tasks,console.log(a),n=0;case 3:if(!(n<a.length)){t.next=19;break}i=a[n].events,r=0;case 6:if(!(r<i.length)){t.next=16;break}return l=i[r],console.log(l),console.log(l.name,"start"),t.next=12,this.doEvent(l,e.lab.device_manager.serial_num);case 12:console.log(l.name,"finish");case 13:r++,t.next=6;break;case 16:n++,t.next=3;break;case 19:case"end":return t.stop()}},t,this)}))}},{key:"doEvent",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e.type),"Measurement"!==e.type){a.next=6;break}return a.next=4,this.doMeasurementEvent(e,t);case 4:a.next=19;break;case 6:if("Pause"!==e.type){a.next=11;break}return a.next=9,this.doPauseEvent(e);case 9:a.next=19;break;case 11:if("Analysis"!==e.type){a.next=16;break}return a.next=14,this.doAnalysisEvent();case 14:a.next=19;break;case 16:if("Calculation"!==e.type){a.next=19;break}return a.next=19,this.doCalculationEvent().then();case 19:case"end":return a.stop()}},a,this)}))}},{key:"doMeasurementEvent",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.playbackChannelData.length>0,i=e.recordingData.length>0,!i||!n){a.next=7;break}return a.next=5,this.doRecordAndPlayback(e,t).then(function(){return p["a"](r,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.delay(1e3*e.eventLength);case 2:case"end":return t.stop()}},t,this)}))});case 5:a.next=15;break;case 7:if(!i){a.next=14;break}return a.next=10,this.doRecord(e,t).then(function(){return p["a"](r,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.delay(1e3*e.eventLength);case 2:case"end":return t.stop()}},t,this)}))});case 10:return a.next=12,this.api.s3upload({id:t,src:"".concat(this.filename,".wav"),dst:"s3://".concat(this.email,"/").concat(this.filename,".wav")});case 12:a.next=15;break;case 14:console.warn("no record and playback setting");case 15:case"end":return a.stop()}},a,this)}))}},{key:"doStop",value:function(e){var t="stop";return this.api.getPALSendCommand({id:e,cmd:t})}},{key:"doRecord",value:function(e,t){var a=this,n=e.recordingData.map(function(e){return a.filename=e.name,{Channel:e.channelIndex,FilePath:e.name+".wav",Title:e.name}}),i={Base64Duration:btoa(String(e.eventLength)),Inputs:n},r="record;"+JSON.stringify(i);return this.api.getPALSendCommand({id:t,cmd:r})}},{key:"doRecordAndPlayback",value:function(e,t){var a=e.recordingData.map(function(e){return{Channel:e.channelIndex,FilePath:e.name+".wav",Title:e.name}}),n=e.playbackChannelData.map(function(e){return{Channel:e.channelIndex,FilePath:e.sourceFileName,Base64LevelAdjustment:btoa(String(e.adjustment))}}),i={Base64Duration:btoa(String(e.eventLength)),Inputs:a,Outputs:n},r="record;"+JSON.stringify(i);return this.api.getPALSendCommand({id:t,cmd:r})}},{key:"doPauseEvent",value:function(e){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.delay(1e3*e.eventLength);case 2:case"end":return t.stop()}},t,this)}))}},{key:"doAnalysisEvent",value:function(){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={parameters:[{name:"Time Weighting",value:"Fast"},{name:"Frequency Weighting",value:"None"},{name:"Downsampling Rate",value:"16"}],inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/").concat(this.filename,".wav")},{name:"Skip Time",value:"0"},{name:"Take Time",value:"-1"}]],output:[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/LevelVersusTime.rst")}]},this.api.doLevelTimeApi(2,t).then();case 2:case"end":return e.stop()}},e,this)}))}},{key:"doCalculationEvent",value:function(){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={parameters:[{name:"Result Number",value:"1"},{name:"Formula",value:"20*log10(x)"}],inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/FourierSpectrum.rst")}]],output:[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/FourierSpectrum_CurveMathematics.rst")}]},this.api.doCalculateCurveApi(2,t).then(function(e){a.$message.success("Calculation: ".concat(e))});case 2:case"end":return e.stop()}},e,this)}))}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/email")],En.prototype,"email",void 0),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],En.prototype,"updateTab",void 0),En=p["b"]([Object(v["a"])({components:{ProjectReportModal:Tn,AddProjectModal:On}})],En);var Ln=En,Mn=Ln,qn=(a("b44c"),Object(k["a"])(Mn,bn,vn,!1,null,"81679f04",null)),Nn=qn.exports,Rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-card",{staticClass:"worker-bar"},[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("div",[a("div",{staticClass:"label"},[e._v("PROJECT")]),a("div",{staticClass:"project"},[e._v(e._s(e.projectManagement.name))])]),a("div",[a("div",{staticClass:"label"},[e._v("START TASK")]),a("el-select",{attrs:{value:e.formData.start},model:{value:e.formData.start,callback:function(t){e.$set(e.formData,"start",t)},expression:"formData.start"}},e._l(e.sequenceJSON.tasks,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("div",[a("div",{staticClass:"label"},[e._v("END TASK")]),a("el-select",{attrs:{value:e.formData.end},model:{value:e.formData.end,callback:function(t){e.$set(e.formData,"end",t)},expression:"formData.end"}},e._l(e.sequenceJSON.tasks,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("div",{staticClass:"center-all"},[a("div",{staticClass:"timer"},[e._v(e._s(e.getTime))])]),a("div",{staticClass:"center-all"},[e.running?a("el-link",{attrs:{type:"primary"},on:{click:e.stopProject}},[e._v("Stop ")]):a("el-link",{attrs:{type:"primary"},on:{click:e.runProject}},[e._v("Run ")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:e.openGeneralReport}},[e._v("Generate Report")])],1)])],1),a("el-table",{staticClass:"pal-table-header-in-row",attrs:{data:e.sequenceJSON.tasks,"show-header":!1,size:"mini"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-timeline",e._l(t.row.events,function(t,n){return a("el-timeline-item",{key:n,attrs:{size:"large"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Name")]),a("div",[e._v(e._s(t.name))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Status")]),a("div",[e._v(e._s(t.status))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Type")]),a("div",[e._v(e._s(t.type))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Start Time")]),a("div",[e._v(e._s(t.startTime))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Actions")]),a("el-link",{attrs:{type:"primary",disabled:"Pause"==t.type&&0==e.pauseTime},on:{click:function(a){return e.doAction(t.type,e.projectManagement.lab.device_manager.serial_num)}}},[e._v(e._s(e.action(t.type)))]),"Pause"==t.type&&e.pauseTime>0?a("el-link",{attrs:{type:"primary"}},[e._v("("+e._s(e.pauseTime)+")")]):e._e()],1)],1)],1)],1)}),1)]}}])}),a("el-table-column",{attrs:{label:"Task Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticClass:"row-header"},[e._v("Task Name")]),a("el-row",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"Event Name"}},[[a("el-row",{staticClass:"row-header"},[e._v("Total Time")]),a("el-row",[e._v(e._s(e.getTime))])]],2),a("el-table-column",{attrs:{label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticClass:"row-header"},[e._v("Status")]),a("el-row",[e._v(e._s(t.row.status?t.row.status:"ready"))])]}}])}),a("el-table-column",{attrs:{label:"Created Date"}},[[a("el-row",{staticClass:"row-header"},[e._v("Created Date")]),a("el-row",[e._v(e._s(e._f("formatDate")(e.projectManagement.created_time)))])]],2),a("el-table-column",{attrs:{label:"Round"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticClass:"row-header"},[e._v("Round")]),a("el-row",[e._v(" "+e._s(t.row.round?t.row.round:0))])]}}])}),a("el-table-column",{attrs:{label:"Actions",width:"220"}},[[a("el-row",{staticClass:"row-header"},[e._v("Actions")]),a("el-row",[a("el-select",{attrs:{value:e.roundSelector,width:"70"},model:{value:e.roundSelector,callback:function(t){e.roundSelector=t},expression:"roundSelector"}},[a("el-option",{attrs:{label:"Round 1",value:"1"}}),a("el-option",{attrs:{label:"Round 2",value:"2"}})],1),a("el-link",{attrs:{type:"primary"}},[e._v("Single Report")])],1)]],2)],1),a("report-modal",{attrs:{data:e.sequenceJSON,visible:e.displayReportModal},on:{dismiss:function(t){e.displayReportModal=!1}}})],1)},$n=[],Pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Report List"},on:{close:e.dismiss}},[a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{justify:"space-between",type:"flex"}},[a("el-button",{attrs:{type:"primary"}},[e._v("Select all first")]),a("el-button",{attrs:{type:"primary"}},[e._v("Select all last")])],1),a("el-tree",{attrs:{data:e.data.tasks,props:e.treeProps,"show-checkbox":""}}),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.dismiss}},[e._v("Generate & Save Report")])],1)],1)},Fn=[],In=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.treeProps={label:"name",children:"events"},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],In.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],In.prototype,"data",void 0),In=p["b"]([v["a"]],In);var Un,Bn=In,Vn=Bn,zn=Object(k["a"])(Vn,Pn,Fn,!1,null,"47b6d554",null),Jn=zn.exports;(function(e){e["YMD"]="MM/DD/YYYY",e["MS"]="mm:ss"})(Un||(Un={}));var Gn=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.projectId="",e.sequenceJSON=null,e.projectManagement=null,e.startTime=new Date,e.endTime=new Date,e.timer=null,e.pauseTime=0,e.skip=!1,e.filename=null,e.displayReportModal=!1,e.tableData=[],e.formData={start:0,end:0},e.running=!1,e.roundSelector=null,e.delay=function(e){return new Promise(function(t){setTimeout(t,e)})},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"beforeMount",value:function(){this.projectId=String(this.$route.query.id),this.getData()}},{key:"getData",value:function(){var e=this;this.api.getProjectManagement(Number(this.projectId)).then(function(t){e.projectManagement=t,e.sequenceJSON=JSON.parse(t.sequence.content),e.formData.start=e.sequenceJSON.tasks[0].id,e.formData.end=e.sequenceJSON.tasks[e.sequenceJSON.tasks.length-1].id})}},{key:"action",value:function(e){return"Measurement"===e?"Download Audio":"Pause"===e?"Skip":"Analysis"===e||"Calculation"===e?"SeeResult":void 0}},{key:"stopProject",value:function(){var e=this,t="stop";return this.running=!1,this.api.getPALSendCommand({id:this.projectManagement.lab.device_manager.serial_num,cmd:t}).then(function(){e.timerStop()})}},{key:"timerStop",value:function(){clearInterval(this.timer)}},{key:"timerStart",value:function(){var e=this;this.startTime=new Date,this.endTime=new Date,this.timer=setInterval(function(){return e.endTime=new Date},1e3)}},{key:"runProject",value:function(){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.sequenceJSON.tasks,this.running=!0,this.timerStart(),a=0;case 4:if(!(a<t.length)){e.next=25;break}n=t[a].events,t[a].round=1+(t[a].round?t[a].round:0),i=0;case 8:if(!(i<n.length)){e.next=21;break}return r=n[i],r.status="Start",t[a].status="Start",t[a].eventName=r.name,r.startTime=Object(St["format"])(new Date-this.startTime,Un.MS),e.next=16,this.doEvent(r,this.projectManagement.lab.device_manager.serial_num);case 16:r.status="End",t[a].status="End";case 18:i++,e.next=8;break;case 21:this.timerStop();case 22:a++,e.next=4;break;case 25:case"end":return e.stop()}},e,this)}))}},{key:"doEvent",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if("Measurement"!==e.type){a.next=5;break}return a.next=3,this.doMeasurementEvent(e,t).then();case 3:a.next=20;break;case 5:if("Pause"!==e.type){a.next=10;break}return a.next=8,this.doPauseEvent(e,t).then();case 8:a.next=20;break;case 10:if("Analysis"!==e.type){a.next=17;break}return a.next=13,this.doAnalysisEvent().then();case 13:return a.next=15,this.delay(1e3);case 15:a.next=20;break;case 17:if("Calculation"!==e.type){a.next=20;break}return a.next=20,this.doCalculationEvent().then();case 20:case"end":return a.stop()}},a,this)}))}},{key:"doMeasurementEvent",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.playbackChannelData.length>0,i=e.recordingData.length>0,!i||!n){a.next=7;break}return a.next=5,this.doRecordAndPlayback(e,t).then(function(){return p["a"](r,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.delay(1e3*e.eventLength);case 2:this.api.getPALGetReturn({id:t}).then(function(e){n.$message.info(e)});case 3:case"end":return a.stop()}},a,this)}))});case 5:a.next=17;break;case 7:if(!i){a.next=16;break}return a.next=10,this.doRecord(e,t).then(function(){return p["a"](r,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.delay(1e3*e.eventLength);case 2:this.api.getPALGetReturn({id:t}).then(function(e){n.$message.info(e)});case 3:case"end":return a.stop()}},a,this)}))});case 10:return a.next=12,this.delay(2e3*e.eventLength);case 12:return a.next=14,this.s3Upload(t).catch(console.warn);case 14:a.next=17;break;case 16:console.warn("no record and playback setting");case 17:case"end":return a.stop()}},a,this)}))}},{key:"doAction",value:function(e,t){"Measurement"===e?this.api.s3handle({id:t,src:"".concat(this.filename,".wav"),dst:"s3://".concat(this.email,"/").concat(this.filename,".wav")}).then(function(e){window.open(e["url"])}):"Pause"===e?(this.skip=!0,this.pauseTime=0):"Analysis"===e?this.doAnalysisEvent():"Calculation"===e&&this.doCalculationEvent()}},{key:"s3Upload",value:function(e){return this.api.s3upload({id:e,src:"".concat(this.filename,".wav"),dst:"s3://".concat(this.email,"/").concat(this.filename,".wav")})}},{key:"doRecord",value:function(e,t){var a=this,n=e.recordingData.map(function(e){return a.filename=e.name,{Channel:e.channelIndex,FilePath:e.name+".wav",Title:e.name}}),i={Duration:Number(e.eventLength),Inputs:n},r="record;"+JSON.stringify(i);return this.api.getPALSendCommand({id:t,cmd:r})}},{key:"doRecordAndPlayback",value:function(e,t){var a=e.recordingData.map(function(e,t){return{Channel:t,FilePath:e.name+".wav",Title:e.name}}),n=e.playbackChannelData.map(function(e,t){return{Channel:t,FilePath:e.sourceFileName,LevelAdjustment:Number(e.adjustment)}}),i={Duration:Number(e.eventLength),Inputs:a,Outputs:n},r="record;"+JSON.stringify(i);return this.api.getPALSendCommand({id:t,cmd:r})}},{key:"doPauseEvent",value:function(e,t){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){a.pauseTime=Number(e.eventLength)-1;var n=setInterval(function(){a.pauseTime=a.pauseTime-1,(a.skip||0==a.pauseTime)&&(a.skip=!1,t(),clearInterval(n))},1e3)}));case 1:case"end":return t.stop()}},t)}))}},{key:"doCalculationEvent",value:function(){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={parameters:[{name:"Result Number",value:"1"},{name:"Formula",value:"20*log10(x)"}],inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/FourierSpectrum.rst")}]],output:[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/FourierSpectrum_CurveMathematics.rst")}]},this.api.doCalculateCurveApi(2,t).then(function(e){a.$message.success("Calculation: ".concat(e))});case 2:case"end":return e.stop()}},e,this)}))}},{key:"doAnalysisEvent",value:function(){return p["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t={parameters:[{name:"Time Weighting",value:"Fast"},{name:"Frequency Weighting",value:"None"},{name:"Downsampling Rate",value:"16"}],inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/").concat(this.filename,".wav")},{name:"Skip Time",value:"0"},{name:"Take Time",value:"-1"}]],output:[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/LevelVersusTime.rst")}]},this.api.doLevelTimeApi(2,t).then(function(e){a.$message.success("Analysis: ".concat(e))});case 2:case"end":return e.stop()}},e,this)}))}},{key:"openGeneralReport",value:function(){this.displayReportModal=!0}},{key:"getTime",get:function(){return"00:".concat(Object(St["format"])(this.endTime-this.startTime,Un.MS))}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/email")],Gn.prototype,"email",void 0),Gn=p["b"]([Object(v["a"])({components:{ReportModal:Jn}})],Gn);var Yn=Gn,Hn=Yn,Kn=(a("3344"),Object(k["a"])(Hn,Rn,$n,!1,null,"d1bbddb4",null)),Wn=Kn.exports,Xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Sequence")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-tabs",{staticClass:"tab-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabs,function(t){return a("el-tab-pane",{key:t.name,attrs:{lazy:"",label:t.name,name:t.name}},[t.component?a(t.component,{tag:"component"}):e._e()],1)}),1)],1)},Qn=[],Zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"header",attrs:{type:"flex"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.addTag}},[e._v("New Tag")])],1),a("el-table",{attrs:{data:e.tagList,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Tags Name",prop:"name",sortable:""}}),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteTag(t.row.id)}}},[e._v("Remove")])]}}])})],1)],1)},ei=[],ti=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.api.getTagList(null).then(function(t){e.tagList=t})}},{key:"addTag",value:function(){var e=this;this.$prompt("Tag Name","New Tag",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(function(t){e.tagList.some(function(e){return e.name===t.value})?e.$message({type:"info",message:"Tag has been created."}):e.api.addTag({name:t.value}).then(function(){e.getData()})}).catch(function(){e.$message({type:"info",message:"Cancel!"})})}},{key:"deleteTag",value:function(e){var t=this;this.$confirm("Do you want to delete this Tag?","Delete",{}).then(function(){t.api.deleteTag(e).then(function(){t.getData(),t.$message({type:"success",message:"success!"})})}).catch(function(){t.$message({type:"info",message:"cancel"})})}}]),t}(v["e"]);ti=p["b"]([v["a"]],ti);var ai=ti,ni=ai,ii=(a("d90b"),Object(k["a"])(ni,Zn,ei,!1,null,"3bee2585",null)),ri=ii.exports,li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Sequence Name",prop:"sequence_name",sortable:"",width:"140"}}),a("el-table-column",{attrs:{label:"Tags"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.displayTag(t.row.tags)))]}}])}),a("el-table-column",{attrs:{label:"Ver",prop:"version",sortable:""}}),a("el-table-column",{attrs:{label:"Task Num",prop:"task_num",sortable:""}}),a("el-table-column",{attrs:{label:"Event Num",prop:"event_num",sortable:""}}),a("el-table-column",{attrs:{label:"Project Attached",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.project_attached))]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"left",label:"Actions",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.openAddModal(t.row)}}},[e._v("Create Project")]),e._v(" |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateSequence(t.row)}}},[e._v("Duplicate Sequence")])]}}])})],1),a("add-project-by-seq-modal",{attrs:{visible:e.displayAddProjModal,seq:e.seq,name:e.seqName},on:{dismiss:function(t){e.displayAddProjModal=!1},refresh:e.getData}}),a("add-sequence-modal",{attrs:{data:e.duplicateData,visible:e.displayAddModal},on:{dismiss:e.cleanDuplicated,refresh:e.getData}})],1)},si=[],oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Project"},on:{close:e.clean}},[a("el-form",[a("el-form-item",{attrs:{label:"Sequence Name:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",{attrs:{label:"Project Name:"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Select Lab:"}},[a("el-select",{attrs:{placeholder:"Choose Lab",value:e.formData.lab},model:{value:e.formData.lab,callback:function(t){e.$set(e.formData,"lab",t)},expression:"formData.lab"}},e._l(e.labList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)},ci=[],ui=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},ce()),e.labList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;e?(this.formData.sequence=this.seq,this.api.getLabList({query:Et({user:this.id}),fields:"id,name"}).then(function(e){return t.labList=e})):this.clean()}},{key:"goToTab",value:function(e){this.$router.push({query:{tab:"ProjectWorker",id:String(e)}}),this.updateTab("ProjectWorker")}},{key:"save",value:function(){var e=this;this.api.addProjectManagement(this.formData).then(function(t){e.refresh(),e.clean(),e.goToTab(t.id)})}},{key:"clean",value:function(){this.formData=Object.assign({},ce()),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/id")],ui.prototype,"id",void 0),p["b"]([Object(v["d"])(Number)],ui.prototype,"seq",void 0),p["b"]([Object(v["d"])(String)],ui.prototype,"name",void 0),p["b"]([Object(v["b"])("refresh")],ui.prototype,"refresh",null),p["b"]([Object(h["a"])(i.UPDATE_CURRENT_TAB)],ui.prototype,"updateTab",void 0),p["b"]([Object(v["f"])("visible")],ui.prototype,"onVisibleChange",null),ui=p["b"]([v["a"]],ui);var di=ui,mi=di,pi=Object(k["a"])(mi,oi,ci,!1,null,"fe1e7364",null),fi=pi.exports,bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Sequence",width:"90%"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form",[a("el-form-item",{attrs:{label:"Sequence Name"}},[a("el-input",{model:{value:e.formData.sequence_name,callback:function(t){e.$set(e.formData,"sequence_name",t)},expression:"formData.sequence_name"}}),1===e.status?a("el-checkbox",{staticStyle:{"margin-top":"10px"},model:{value:e.formData.is_customize,callback:function(t){e.$set(e.formData,"is_customize",t)},expression:"formData.is_customize"}},[e._v("\n              Is this a customize sequence? ( It can't be remove )\n            ")]):e._e()],1),a("el-form-item",{attrs:{label:"Note"}},[a("el-input",{model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addTask}},[e._v("New Task")])],1)],1)],1),a("el-col",{staticClass:"form-item-group",attrs:{span:8,offset:"4"}},[a("el-form",[a("el-form-item",{attrs:{label:"Tags"}},[a("el-select",{attrs:{multiple:"",value:e.tags},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},[a("el-option-group",{attrs:{label:"Global Tag"}},e._l(e.tagList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"enter tag here"},model:{value:e.tagName,callback:function(t){e.tagName=t},expression:"tagName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addTag}},[e._v("Add")])],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"form-item-group"},[e.sequenceJSON?a("el-table",{staticClass:"pal-table-header-in-row",attrs:{data:e.sequenceJSON.tasks,size:"mini"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-timeline",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.addEvent(t.$index)}}},[e._v("New Event ")])],1),e._l(t.row.events,function(n,i){return a("el-timeline-item",{key:i,attrs:{size:"large"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Name")]),a("div",[e._v(e._s(n.name))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Status")]),a("div",[e._v("-")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Type")]),a("div",[e._v(e._s(n.type))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Start Time")]),a("div",[e._v("-")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Actions")]),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editEvent(n,t.row.id)}}},[e._v("Edit")]),e._v("\n                        |\n                        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeEvent(i,t.row.id)}}},[e._v("Remove")])],1)],1)],1)],1)})],2)]}}],null,!1,2376679971)}),a("el-table-column",{attrs:{label:"Task Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",[e._v(e._s(t.row.name))])]}}],null,!1,434120803)}),a("el-table-column",{attrs:{label:"Total Time"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Status"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Round"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Actions",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editTaskName(t.row.name,t.$index)}}},[e._v("Rename")]),e._v("\n                |\n                "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateTask(t.row)}}},[e._v("Duplicate")]),e._v("\n                |\n                "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeTask(t.$index)}}},[e._v("Remove")])],1)]}}],null,!1,1692310847)})],1):e._e()],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.getVersion}},[e._v("Get Version")])],1),a("event-modal",{attrs:{id:e.newEventId,visible:e.displayEventModal},on:{dismiss:function(t){e.displayEventModal=!1},refresh:e.getEvent}}),a("edit-event-modal",{attrs:{"original-event":e.selectedEvent,visible:e.displayEditEventModal},on:{dismiss:function(t){e.displayEditEventModal=!1},refresh:e.patchEvent}})],1)},vi=[],hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit Event"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"Event Name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentEvent.name,callback:function(t){e.$set(e.currentEvent,"name",t)},expression:"currentEvent.name"}})],1),a("el-form-item",{attrs:{label:"Event Type"}},[a("el-select",{attrs:{disabled:"",value:e.currentEvent.type},model:{value:e.currentEvent.type,callback:function(t){e.$set(e.currentEvent,"type",t)},expression:"currentEvent.type"}},e._l(e.eventType,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1)],1),"Measurement"===e.currentEvent.type?a("event-measure-modal",{ref:"measure",attrs:{data:"Measurement"===e.currentEvent.type&&e.currentEvent}}):e._e(),"Pause"===e.currentEvent.type?a("event-pause-modal",{ref:"pause",attrs:{data:"Pause"===e.currentEvent.type&&e.currentEvent}}):e._e(),"Calculation"===e.currentEvent.type?a("event-calculation-modal",{ref:"calculation",attrs:{analysissource:e.analysissource,data:"Calculation"===e.currentEvent.type&&e.currentEvent}}):e._e(),"Analysis"===e.currentEvent.type?a("event-analysis-modal",{ref:"analysis",attrs:{measurementsource:e.measurementsource,data:"Analysis"===e.currentEvent.type&&e.currentEvent}}):e._e()],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addEvent}},[e._v("Confirm")])],1)],1)},yi=[],gi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Analysis Setup")]),a("el-form-item",{attrs:{label:"Analysis Category"}},[a("el-select",{attrs:{value:e.eventFields[0].value},model:{value:e.eventFields[0].value,callback:function(t){e.$set(e.eventFields[0],"value",t)},expression:"eventFields[0].value"}},e._l(e.eventFields[0].options,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1),a("el-form-item",{attrs:{label:"Analysis Name"}},[a("el-select",{attrs:{value:e.eventFields[1].value},on:{change:function(t){return e.getEventInfo(e.eventFields[1].value)}},model:{value:e.eventFields[1].value,callback:function(t){e.$set(e.eventFields[1],"value",t)},expression:"eventFields[1].value"}},e._l(e.analysisNameFilterByCategory,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1),e.eventInfo.description?a("el-form-item",{attrs:{label:"Analysis Description"}},[a("div",{staticStyle:{"margin-top":"12px"}},[e._v(e._s(e.eventInfo.description))])]):e._e(),a("div",{staticClass:"form-item-group-header"},[e._v("Parameter List")]),e._l(e.eventInfo.parameterFormat,function(t,n){return a("el-form-item",{key:n},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(t.name+(t.unit?" ["+t.unit+"]":""))+"\n        "),t.description?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.description))]),a("i",{staticClass:"pal-icon-question"})]):e._e()],1),t.options&&t.options.length>0?a("el-select",{attrs:{value:"data.defaultValue"},model:{value:t.defaultValue,callback:function(a){e.$set(t,"defaultValue",a)},expression:"data.defaultValue"}},e._l(t.options,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1):e._e(),t.options?e._e():a("el-input",{model:{value:t.defaultValue,callback:function(a){e.$set(t,"defaultValue",a)},expression:"data.defaultValue"}})],1)})],2),a("el-row",[a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Result List (Input)")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){e.displayAddResultModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.resultData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deleteResultData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("el-row",[a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Requirement List")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){e.displayAddRequirementModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.requirementData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deleteRequirementData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Expression")]),a("el-form-item",{attrs:{label:"X-Axis Minimum"}},[a("el-input",{model:{value:e.eventData.xMin,callback:function(t){e.$set(e.eventData,"xMin",t)},expression:"eventData.xMin"}})],1),a("el-form-item",{attrs:{label:"X-Axis Maximum"}},[a("el-input",{model:{value:e.eventData.xMax,callback:function(t){e.$set(e.eventData,"xMax",t)},expression:"eventData.xMax"}})],1),a("el-form-item",{attrs:{label:"X-Axis Scale"}},[a("el-select",{attrs:{value:e.eventData.xScale},model:{value:e.eventData.xScale,callback:function(t){e.$set(e.eventData,"xScale",t)},expression:"eventData.xScale"}},[a("el-option",{attrs:{value:"Logarithmic"}},[e._v("Logarithmic")])],1)],1),a("el-form-item",{attrs:{label:"Y-Axis Minimum"}},[a("el-input",{model:{value:e.eventData.yMin,callback:function(t){e.$set(e.eventData,"yMin",t)},expression:"eventData.yMin"}})],1),a("el-form-item",{attrs:{label:"Y-Axis Maximum"}},[a("el-input",{model:{value:e.eventData.yMax,callback:function(t){e.$set(e.eventData,"yMax",t)},expression:"eventData.yMax"}})],1),a("el-form-item",{attrs:{label:"Y-Axis Scale"}},[a("el-select",{attrs:{value:e.eventData.yScale},model:{value:e.eventData.yScale,callback:function(t){e.$set(e.eventData,"yScale",t)},expression:"eventData.yScale"}},[a("el-option",{attrs:{value:"Linear"}},[e._v("Linear")])],1)],1)],1),a("add-result-modal",{attrs:{visible:e.displayAddResultModal,measurementsource:e.measurementsource},on:{dismiss:function(t){e.displayAddResultModal=!1},refresh:e.addResultData}}),a("add-requirement-modal",{attrs:{visible:e.displayAddRequirementModal},on:{dismiss:function(t){e.displayAddRequirementModal=!1},refresh:e.addRequirementData}})],1)},_i=[],ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Add Requirement"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Requirement Setup")]),a("el-form-item",{attrs:{label:"Requirement  Category"}},[a("el-select",[a("el-option",[e._v("Data 1")]),a("el-option",[e._v("Data 2")])],1)],1),a("el-form-item",{attrs:{label:"Requirement  Name"}},[a("el-select",[a("el-option",[e._v("Manual Points 1")]),a("el-option",[e._v("Manual Points 2")])],1)],1),a("div",{staticClass:"form-item-group-header"},[e._v("Parameter Setup")]),a("el-form-item",{attrs:{label:"Logic"}},[a("el-select",[a("el-option",[e._v(">=")]),a("el-option",[e._v("===")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Point Setup")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[e._v("Add")])],1),a("el-form-item",{attrs:{label:"X  Value"}},[a("el-input")],1),a("el-form-item",{attrs:{label:"Y  Value"}},[a("el-input")],1),a("el-form-item",{attrs:{label:"Tolerance  Points"}}),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"X  Values"}}),a("el-form-item",[a("el-input")],1),a("el-form-item",[a("el-input")],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Y  Values"}}),a("el-form-item",[a("el-input")],1),a("el-form-item",[a("el-input")],1)],1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"}},[e._v("Confirm")])],1)],1)},Di=[],Oi=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"clean",value:function(){this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Oi.prototype,"refresh",null),Oi=p["b"]([v["a"]],Oi);var ji=Oi,wi=ji,xi=Object(k["a"])(wi,ki,Di,!1,null,"0d174c31",null),Si=xi.exports,Ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Add Result"},on:{open:e.resetForm,close:e.clean}},[a("el-form",{ref:"resultRuleFormRef",attrs:{model:e.resultRuleForm,rules:e.resultRule}},[a("el-row",[a("el-form-item",{attrs:{label:"Result Name",prop:"name"}},[a("el-input",{model:{value:e.resultRuleForm.name,callback:function(t){e.$set(e.resultRuleForm,"name",t)},expression:"resultRuleForm.name"}})],1),a("el-form-item",{attrs:{label:"Data Source",prop:"resource"}},[a("el-select",{model:{value:e.resultRuleForm.resource,callback:function(t){e.$set(e.resultRuleForm,"resource",t)},expression:"resultRuleForm.resource"}},e._l(e.measurementsource,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),a("el-form-item",{attrs:{label:"Skip Time [ s ]"}},[a("el-input",{model:{value:e.resultRuleForm.skipTime,callback:function(t){e.$set(e.resultRuleForm,"skipTime",t)},expression:"resultRuleForm.skipTime"}})],1),a("el-form-item",{attrs:{label:"Take Time [ s ]"}},[a("el-input",{model:{value:e.resultRuleForm.takeLength,callback:function(t){e.$set(e.resultRuleForm,"takeLength",t)},expression:"resultRuleForm.takeLength"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addResult}},[e._v("Confirm")])],1)],1)},Ai=[],Ti=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.resultRuleForm={name:"",resource:"",skipTime:5,takeLength:10},e.resultRule={name:[{required:!0,message:"Result name is required.",trigger:"change"}],resource:[{required:!0,message:"Data source is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(e){}},{key:"clean",value:function(){this.resetForm(),this.dismiss()}},{key:"resetForm",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs["resultRuleFormRef"];t.resetFields()}),this.resultRuleForm={name:"",resource:"",skipTime:5,takeLength:10}}},{key:"addResult",value:function(){var e=this,t=this.$refs["resultRuleFormRef"];t.validate(function(t){if(!t)return!1;e.refresh(e.resultRuleForm),e.clean()})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Ti.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Ti.prototype,"measurementsource",void 0),Ti=p["b"]([v["a"]],Ti);var Ei=Ti,Li=Ei,Mi=Object(k["a"])(Li,Ci,Ai,!1,null,"4f7ea754",null),qi=Mi.exports,Ni=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.analysisName=[{title:"Level vs Time",category:["All","Time","Level"],infoUrl:"https://pmtvan9j3i.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Fourier Spectrum",category:["All","Spectrum","Level"],infoUrl:"https://27pp4bbmxf.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Octave Spectrum",category:["All","Spectrum","Level"],infoUrl:"https://hmh240r9y6.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Butterworth Filter",category:["All","Filter"],infoUrl:"https://pmtvan9j3i.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Chebyshev 1 Filter",category:["All","Filter"],infoUrl:"https://pmtvan9j3i.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Chebyshev 2 Filter",category:["All","Filter"],infoUrl:"https://pmtvan9j3i.execute-api.ap-southeast-1.amazonaws.com/Prod/info"}],e.eventData={analysisName:"",resultData:[],requirementData:[],expression:{xMin:"",xMax:"",xScale:"",yMin:"",yMax:"",yScale:""}},e.eventFields=[{title:"Analysis Category",type:"select",options:[{title:"All"},{title:"Time"},{title:"Level"},{title:"Spectrum"},{title:"Filter"}],default:"All",placeholder:"",value:"All"},{title:"Analysis Name",type:"select",options:[],default:"",placeholder:"",value:""}],e.eventInfo={},e.displayAddResultModal=!1,e.displayAddRequirementModal=!1,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"mounted",value:function(){this.data&&(this.eventData=this._.pick(this.data,["analysisName","resultData","requirementData","expression"]))}},{key:"deleteResultData",value:function(e){this.eventData.resultData.splice(e,1)}},{key:"deleteRequirementData",value:function(e){this.eventData.requirementData.splice(e,1)}},{key:"addResultData",value:function(e){e&&this.eventData.resultData.push(Object.assign({},e))}},{key:"addRequirementData",value:function(e){e&&this.eventData.requirementData.push(Object.assign({},e))}},{key:"getEventInfo",value:function(e){var t=this;switch(e){case"Level vs Time":this.api.getLevelTimeApi(0,{}).then(function(e){t.eventInfo=e});break;case"Fourier Spectrum":this.api.getFourierSpectrumApi(0,{}).then(function(e){t.eventInfo=e});break;case"Octave Spectrum":this.api.getOctaveSpectrumApi(0,{}).then(function(e){t.eventInfo=e});break;default:this.eventInfo={};break}}},{key:"analysisNameFilterByCategory",get:function(){var e=this;return this.analysisName.filter(function(t){return t.category.some(function(t){return t==e.eventFields[0].value})})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Ni.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],Ni.prototype,"data",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Ni.prototype,"measurementsource",void 0),Ni=p["b"]([Object(v["a"])({components:{AddResultModal:qi,AddRequirementModal:Si}})],Ni);var Ri=Ni,$i=Ri,Pi=(a("e9a1"),Object(k["a"])($i,gi,_i,!1,null,"dab3d9b2",null)),Fi=Pi.exports,Ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Calculation Setup")]),a("el-form-item",{attrs:{label:"Calculation Category"}},[a("el-select",{attrs:{value:e.eventFields[0].value},model:{value:e.eventFields[0].value,callback:function(t){e.$set(e.eventFields[0],"value",t)},expression:"eventFields[0].value"}},e._l(e.eventFields[0].options,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1),a("el-form-item",{attrs:{label:"Calculation Name"}},[a("el-select",{attrs:{value:e.eventFields[1].value},on:{change:function(t){return e.getEventInfo(e.eventFields[1].value)}},model:{value:e.eventFields[1].value,callback:function(t){e.$set(e.eventFields[1],"value",t)},expression:"eventFields[1].value"}},e._l(e.calculationNameFilterByCategory,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1),e.eventInfo.Description?a("el-form-item",{staticClass:"is-disabled",attrs:{label:"Calculation Description"}},[a("div",{staticStyle:{"margin-top":"12px"}},[e._v(e._s(e.eventInfo.Description))])]):e._e(),a("div",{staticClass:"form-item-group-header"},[e._v("Parameter List")]),e._l(e.eventInfo.ParameterFormat,function(t,n){return a("el-form-item",{key:n},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n        "+e._s(n+(t.Unit?" ["+t.Unit+"]":""))+"\n        "),t.Description?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.Description))]),a("i",{staticClass:"pal-icon-question"})]):e._e()],1),t.Options&&t.Options.length>0?a("el-select",{attrs:{value:t.DefaultValue},model:{value:t.DefaultValue,callback:function(a){e.$set(t,"DefaultValue",a)},expression:"paramSetting.DefaultValue"}},e._l(t.Options,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1):e._e(),t.Options?e._e():a("el-input",{model:{value:t.DefaultValue,callback:function(a){e.$set(t,"DefaultValue",a)},expression:"paramSetting.DefaultValue"}})],1)})],2),a("el-row",[a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Result List (Input)")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){e.displayAddResultModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.resultData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deleteResultData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("el-row",[a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Requirement List")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){e.displayAddRequirementModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.requirementData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deleteRequirementData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Expression")]),a("el-form-item",{attrs:{label:"X-Axis Minimum"}},[a("el-input",{model:{value:e.eventData.xMin,callback:function(t){e.$set(e.eventData,"xMin",t)},expression:"eventData.xMin"}})],1),a("el-form-item",{attrs:{label:"X-Axis Maximum"}},[a("el-input",{model:{value:e.eventData.xMax,callback:function(t){e.$set(e.eventData,"xMax",t)},expression:"eventData.xMax"}})],1),a("el-form-item",{attrs:{label:"X-Axis Scale"}},[a("el-select",{attrs:{value:e.eventData.xScale},model:{value:e.eventData.xScale,callback:function(t){e.$set(e.eventData,"xScale",t)},expression:"eventData.xScale"}},[a("el-option",{attrs:{value:"Logarithmic"}},[e._v("Logarithmic")])],1)],1),a("el-form-item",{attrs:{label:"Y-Axis Minimum"}},[a("el-input",{model:{value:e.eventData.yMin,callback:function(t){e.$set(e.eventData,"yMin",t)},expression:"eventData.yMin"}})],1),a("el-form-item",{attrs:{label:"Y-Axis Maximum"}},[a("el-input",{model:{value:e.eventData.yMax,callback:function(t){e.$set(e.eventData,"yMax",t)},expression:"eventData.yMax"}})],1),a("el-form-item",{attrs:{label:"Y-Axis Scale"}},[a("el-select",{attrs:{value:e.eventData.yScale},model:{value:e.eventData.yScale,callback:function(t){e.$set(e.eventData,"yScale",t)},expression:"eventData.yScale"}},[a("el-option",{attrs:{value:"Linear"}},[e._v("Linear")])],1)],1)],1),a("add-calculation-result-modal",{attrs:{visible:e.displayAddResultModal,analysissource:e.analysissource},on:{dismiss:function(t){e.displayAddResultModal=!1},refresh:e.addResultData}}),a("add-requirement-modal",{attrs:{visible:e.displayAddRequirementModal},on:{dismiss:function(t){e.displayAddRequirementModal=!1},refresh:e.addRequirementData}})],1)},Ui=[],Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Add Result"},on:{open:e.resetForm,close:e.dismiss}},[a("el-form",{ref:"resultRuleFormRef",attrs:{model:e.resultRuleForm,rules:e.resultRule}},[a("el-row",[a("el-form-item",{attrs:{label:"Result Name"}},[a("el-input",{model:{value:e.resultRuleForm.name,callback:function(t){e.$set(e.resultRuleForm,"name",t)},expression:"resultRuleForm.name"}})],1),a("el-form-item",{attrs:{label:"Data Source"}},[a("el-select",{model:{value:e.resultRuleForm.resource,callback:function(t){e.$set(e.resultRuleForm,"resource",t)},expression:"resultRuleForm.resource"}},e._l(e.analysissource,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addResult}},[e._v("Confirm")])],1)],1)},Vi=[],zi=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.resultRuleForm={name:"",resource:""},e.resultRule={name:[{required:!0,message:"Result name is required.",trigger:"change"}],resource:[{required:!0,message:"Data source is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(e){}},{key:"clean",value:function(){this.dismiss()}},{key:"resetForm",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs["resultRuleFormRef"];t.resetFields()}),this.resultRuleForm={name:"",resource:""}}},{key:"addResult",value:function(){var e=this,t=this.$refs["resultRuleFormRef"];t.validate(function(t){if(!t)return!1;e.refresh(e.resultRuleForm),e.clean()})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],zi.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],zi.prototype,"analysissource",void 0),zi=p["b"]([v["a"]],zi);var Ji=zi,Gi=Ji,Yi=Object(k["a"])(Gi,Bi,Vi,!1,null,"17d3d894",null),Hi=Yi.exports,Ki=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.calculationName=[{title:"Curve Smoothing",category:["All","Smoothing"],infoUrl:"https://g5d9ich7a6.execute-api.ap-southeast-1.amazonaws.com/Prod/info"},{title:"Curve Mathematics",category:["All","Arithmetic"],infoUrl:"https://qttf07pvz9.execute-api.ap-southeast-1.amazonaws.com/Prod/info"}],e.eventData={calculationName:"",resultData:[],requirementData:[],expression:{xMin:"",xMax:"",xScale:"",yMin:"",yMax:"",yScale:""}},e.eventFields=[{title:"Calculation Category",type:"select",options:[{title:"All"},{title:"Smoothing"},{title:"Arithmetic"}],default:"All",placeholder:"",value:"All"},{title:"Calculation Name",type:"select",options:[],default:"",placeholder:"",value:""}],e.mockEventInfo=[{Name:"Curve Smoothing",ModuleType:1,MinimumInputs:1,MaximumInputs:1,InputFormat:{"Bucket Name":{Description:"The Amazon S3 bucket where the source file is located"},"Object Key":{Description:"The key of the source file"}},OutputFormat:{"Bucket Name":{Description:"The Amazon S3 bucket where the destination file is located"},"Object Key":{Description:"The key of the destination file"}},ParameterFormat:{"Smoothing Order":{DefaultValue:"1/6",Options:["1/1","1/3","1/6","1/12","1/24"],Description:""}},Description:"Smooth the given curve in dB domain"},{Name:"Curve Mathematics",ModuleType:1,Version:"1.0",MinimumInputs:1,MaximumInputs:1,InputFormat:{"Bucket Name":{Description:"The Amazon S3 bucket where the source file is located"},"Object Key":{Description:"The key of the source file"}},OutputFormat:{"Bucket Name":{Description:"The Amazon S3 bucket where the destination file is located"},"Object Key":{Description:"The key of the destination file"}},ParameterFormat:{Formula:{DefaultValue:"",Description:"Operators: +, -, *, /, ^, !, #Functions: sin(x), cos(x), tan(x), asin(x), acos(x), atan(x), sqrt(x), log2(x), log10(x), ln(x)...Constants: pi, e"}},Description:"Apply mathematical calculations to the input data"}],e.eventInfo={},e.displayAddResultModal=!1,e.displayAddRequirementModal=!1,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"mounted",value:function(){this.data&&(this.eventData=this._.pick(this.data,["calculationName","resultData","requirementData","expression"]))}},{key:"clean",value:function(){this.dismiss()}},{key:"getEventInfo",value:function(e){switch(e){case"Curve Smoothing":this.eventInfo=this.mockEventInfo[0];break;case"Curve Mathematics":this.eventInfo=this.mockEventInfo[1];break;default:this.eventInfo={};break}}},{key:"deleteResultData",value:function(e){this.eventData.resultData.splice(e,1)}},{key:"deleteRequirementData",value:function(e){this.eventData.requirementData.splice(e,1)}},{key:"addResultData",value:function(e){e&&this.eventData.resultData.push(Object.assign({},e))}},{key:"addRequirementData",value:function(e){e&&this.eventData.requirementData.push(Object.assign({},e))}},{key:"calculationNameFilterByCategory",get:function(){var e=this;return this.calculationName.filter(function(t){return t.category.some(function(t){return t==e.eventFields[0].value})})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Ki.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],Ki.prototype,"data",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Ki.prototype,"analysissource",void 0),Ki=p["b"]([Object(v["a"])({components:{AddCalculationResultModal:Hi,AddRequirementModal:Si}})],Ki);var Wi=Ki,Xi=Wi,Qi=(a("cc4b"),Object(k["a"])(Xi,Ii,Ui,!1,null,"179d8485",null)),Zi=Qi.exports,er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-form-item",{attrs:{label:"Event Length [ s ]"}},[a("el-input",{model:{value:e.eventData.eventLength,callback:function(t){e.$set(e.eventData,"eventLength",t)},expression:"eventData.eventLength"}})],1),a("el-row",[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.displayUploadAudioModal=!0}}},[e._v("Upload Audio")])],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Playback Channel List")]),a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddPlaybackChannelModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.playbackChannelData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Level Adjustment(db)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.adjustment,callback:function(a){e.$set(t.row,"adjustment",a)},expression:"scope.row.adjustment"}})]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deletePlaybackData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("el-row",[a("el-row",{staticClass:"pal-table-func-header",attrs:{justify:"space-between",type:"flex"}},[a("div",{staticClass:"form-item-group-header"},[e._v("Recording Channel List")]),a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddRecordingChannelModal=!0}}},[e._v("Add")])],1),a("el-row",[a("el-table",{attrs:{data:e.eventData.recordingData,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"Index",type:"index",width:"60px"}}),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.deleteRecordingData(t.$index)}}},[e._v("Remove")])]}}])})],1)],1)],1),a("upload-audio-modal",{attrs:{visible:e.displayUploadAudioModal,audio:e.eventData.audio},on:{dismiss:function(t){e.displayUploadAudioModal=!1},"update:audio":function(t){return e.$set(e.eventData,"audio",t)}}}),a("add-playback-channel-modal",{attrs:{visible:e.displayAddPlaybackChannelModal,audio:e.eventData.audio},on:{dismiss:function(t){e.displayAddPlaybackChannelModal=!1},refresh:e.addPlaybackData}}),a("add-recording-channel-modal",{attrs:{visible:e.displayAddRecordingChannelModal},on:{dismiss:function(t){e.displayAddRecordingChannelModal=!1},refresh:e.addRecordingData}})],1)},tr=[],ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Add Playback Channel"},on:{close:e.dismiss,open:e.resetForm}},[a("el-form",{ref:"playbackChannelRuleFormRef",attrs:{model:e.playbackChannelRuleForm,rules:e.playbackChannelRule}},[a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Playback Channel Setup")]),a("el-form-item",{attrs:{label:"Channel Index"}},[a("el-select",{attrs:{value:e.playbackChannelRuleForm.channelIndex},model:{value:e.playbackChannelRuleForm.channelIndex,callback:function(t){e.$set(e.playbackChannelRuleForm,"channelIndex",t)},expression:"playbackChannelRuleForm.channelIndex"}},[a("el-option",{attrs:{value:"1"}},[e._v("1")]),a("el-option",{attrs:{value:"2"}},[e._v("2")])],1)],1),a("el-form-item",{attrs:{label:"Channel Name",prop:"name"}},[a("el-input",{model:{value:e.playbackChannelRuleForm.name,callback:function(t){e.$set(e.playbackChannelRuleForm,"name",t)},expression:"playbackChannelRuleForm.name"}})],1),a("div",{staticClass:"form-item-group-header"},[e._v("Source File Editor")]),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{disabled:!e.playbackChannelRuleForm.sourceFileName,type:"primary"},on:{click:e.convertAudio}},[e._v("\n          Convert\n        ")])],1),a("el-form-item",{attrs:{label:"Source File Name"}},[a("el-select",{attrs:{value:e.playbackChannelRuleForm.sourceFileName},on:{change:e.onSelectFile},model:{value:e.playbackChannelRuleForm.sourceFileName,callback:function(t){e.$set(e.playbackChannelRuleForm,"sourceFileName",t)},expression:"playbackChannelRuleForm.sourceFileName"}},e._l(e.audio,function(e,t){return a("el-option",{key:t,attrs:{value:e.name,label:e.name+" - "+e.date}})}),1)],1),a("el-form-item",{attrs:{label:"Source File Channel"}},[a("el-select",{attrs:{value:e.playbackChannelRuleForm.sourceFileChannel},model:{value:e.playbackChannelRuleForm.sourceFileChannel,callback:function(t){e.$set(e.playbackChannelRuleForm,"sourceFileChannel",t)},expression:"playbackChannelRuleForm.sourceFileChannel"}},[a("el-option",{attrs:{value:"1"}},[e._v("1")]),a("el-option",{attrs:{value:"2"}},[e._v("2")])],1)],1),a("el-form-item",{attrs:{label:"Source File Length [ s ]"}},[a("el-input",{attrs:{type:"number"},model:{value:e.playbackChannelRuleForm.sourceFileLength,callback:function(t){e.$set(e.playbackChannelRuleForm,"sourceFileLength",t)},expression:"playbackChannelRuleForm.sourceFileLength"}})],1),a("el-form-item",{attrs:{label:"Delay Time [ s ]"}},[a("el-input",{model:{value:e.playbackChannelRuleForm.delayTime,callback:function(t){e.$set(e.playbackChannelRuleForm,"delayTime",t)},expression:"playbackChannelRuleForm.delayTime"}})],1),a("el-form-item",{attrs:{label:"Skip Time [ s ]"}},[a("el-input",{model:{value:e.playbackChannelRuleForm.skipTime,callback:function(t){e.$set(e.playbackChannelRuleForm,"skipTime",t)},expression:"playbackChannelRuleForm.skipTime"}})],1),a("el-form-item",{attrs:{label:"take Length [ s ]"}},[a("el-input",{model:{value:e.playbackChannelRuleForm.takeLength,callback:function(t){e.$set(e.playbackChannelRuleForm,"takeLength",t)},expression:"playbackChannelRuleForm.takeLength"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{disabled:!e.playbackChannelRuleForm.sourceFileName.includes("converted"),type:"primary"},on:{click:e.addPlayback}},[e._v("\n      Confirm\n    ")])],1)],1)},nr=[],ir=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.playbackChannelRuleForm={adjustment:0,channelIndex:1,name:"",sourceFileChannel:1,sourceFileName:"",sourceFileLength:15,delayTime:3,skipTime:5,takeLength:10},e.playbackChannelRule={name:[{required:!0,message:"Channel name is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(e){}},{key:"clean",value:function(){this.dismiss()}},{key:"resetForm",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs["playbackChannelRuleFormRef"];t.resetFields()}),this.playbackChannelRuleForm={adjustment:-10,channelIndex:1,name:"",sourceFileChannel:1,sourceFileName:"",sourceFileLength:15,delayTime:3,skipTime:5,takeLength:10}}},{key:"addPlayback",value:function(){var e=this,t=this.$refs["playbackChannelRuleFormRef"];t.validate(function(t){if(!t)return!1;e.refresh(e.playbackChannelRuleForm),e.clean()})}},{key:"onSelectFile",value:function(){var e={inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/").concat(this.playbackChannelRuleForm.sourceFileName)}]]};this.api.doFormatReaderApi(e).then(function(e){return console.log(e)})}},{key:"convertAudio",value:function(){var e=this;this.api.doFormatConvertApi({parameters:[{name:"Target Channel",value:this.playbackChannelRuleForm.sourceFileChannel},{name:"Total Time",value:this.playbackChannelRuleForm.sourceFileLength},{name:"Delay Time",value:this.playbackChannelRuleForm.delayTime},{name:"Skip Time",value:this.playbackChannelRuleForm.skipTime},{name:"Take Time",value:this.playbackChannelRuleForm.takeLength}],inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/").concat(this.playbackChannelRuleForm.sourceFileName,".wav")}]],output:[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:"".concat(this.email,"/").concat(this.playbackChannelRuleForm.sourceFileName,".wav")}]}).then(function(t){if("OK"==t){var a=e.playbackChannelRuleForm.sourceFileName+"_Converted";e.audio.push({name:a,url:a}),e.playbackChannelRuleForm.sourceFileName=a}})}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/email")],ir.prototype,"email",void 0),p["b"]([Object(v["b"])("refresh")],ir.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],ir.prototype,"audio",void 0),ir=p["b"]([v["a"]],ir);var rr=ir,lr=rr,sr=Object(k["a"])(lr,ar,nr,!1,null,"45ba6838",null),or=sr.exports,cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Add Recording Channel"},on:{open:e.resetForm,close:e.clean}},[a("el-form",{ref:"recordingChannelRuleFormRef",attrs:{model:e.recordingChannelRuleForm,rules:e.recordingChannelRule}},[a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Recording Channel Setup")]),a("el-form-item",{attrs:{label:"Channel Index"}},[a("el-select",{model:{value:e.recordingChannelRuleForm.channelIndex,callback:function(t){e.$set(e.recordingChannelRuleForm,"channelIndex",t)},expression:"recordingChannelRuleForm.channelIndex"}},[a("el-option",{attrs:{value:"1"}},[e._v("1")]),a("el-option",{attrs:{value:"2"}},[e._v("2")])],1)],1),a("el-form-item",{attrs:{label:"Channel Name",prop:"name"}},[a("el-input",{model:{value:e.recordingChannelRuleForm.name,callback:function(t){e.$set(e.recordingChannelRuleForm,"name",t)},expression:"recordingChannelRuleForm.name"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addRecording}},[e._v("Confirm")])],1)],1)},ur=[],dr=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.recordingChannelRuleForm={channelIndex:1,name:""},e.recordingChannelRule={name:[{required:!0,message:"Channel name is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(e){}},{key:"clean",value:function(){this.resetForm(),this.dismiss()}},{key:"resetForm",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs["recordingChannelRuleFormRef"];t.resetFields()}),this.recordingChannelRuleForm={channelIndex:1,name:""}}},{key:"addRecording",value:function(){var e=this,t=this.$refs["recordingChannelRuleFormRef"];t.validate(function(t){if(!t)return!1;e.refresh(e.recordingChannelRuleForm),e.clean()})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],dr.prototype,"refresh",null),dr=p["b"]([v["a"]],dr);var mr=dr,pr=mr,fr=Object(k["a"])(pr,cr,ur,!1,null,"41658802",null),br=fr.exports,vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Upload Audio"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"Upload Audio"}},[a("el-upload",{ref:"upload",attrs:{action:"","http-request":e.upload,"show-file-list":!1}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"}},[e._v("Upload")])],1)],1),a("el-form-item",{attrs:{label:"Audio"}},[a("el-select",{attrs:{value:e.audio_url},model:{value:e.audio_url,callback:function(t){e.audio_url=t},expression:"audio_url"}},e._l(e.audio,function(e,t){return a("el-option",{key:t,attrs:{label:e.name+" - "+e.date,value:e.url}})}),1)],1)],1)],1)],1)},hr=[],yr=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.audio_url="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"clean",value:function(){this.dismiss()}},{key:"upload",value:function(e){var t=this;return this.audio_url="uploading...",this.api.upload(e.file,"path").then(function(a){t.audio_url=a;var n=Ct(Date.now(),"YYYYMMDDTHHmmss");t.onChange({name:e.file.name,url:a,date:n}),t.audio.push({name:e.file.name,url:a,date:n})}).catch(console.error)}},{key:"onChange",value:function(e){return[].concat(Object(kt["a"])(this.audio),[e])}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],yr.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],yr.prototype,"audio",void 0),p["b"]([Object(v["b"])("update:audio")],yr.prototype,"onChange",null),yr=p["b"]([v["a"]],yr);var gr=yr,_r=gr,kr=Object(k["a"])(_r,vr,hr,!1,null,"2b937f29",null),Dr=kr.exports,Or=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayUploadAudioModal=!1,e.displayAddPlaybackChannelModal=!1,e.displayAddRecordingChannelModal=!1,e.eventData={eventLength:0,audio:[],playbackChannelData:[],recordingData:[]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"mounted",value:function(){this.data&&(this.eventData=this._.pick(this.data,["eventLength","audio","playbackChannelData","recordingData"]))}},{key:"clean",value:function(){this.dismiss()}},{key:"deletePlaybackData",value:function(e){this.eventData.playbackChannelData.splice(e,1)}},{key:"deleteRecordingData",value:function(e){this.eventData.recordingData.splice(e,1)}},{key:"addPlaybackData",value:function(e){e&&(console.log(e),this.eventData.playbackChannelData.push(Object.assign({},e)))}},{key:"addRecordingData",value:function(e){e&&this.eventData.recordingData.push(Object.assign({},e))}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Or.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],Or.prototype,"data",void 0),Or=p["b"]([Object(v["a"])({components:{AddRecordingChannelModal:br,AddPlaybackChannelModal:or,UploadAudioModal:Dr}})],Or);var jr=Or,wr=jr,xr=(a("0b34"),Object(k["a"])(wr,er,tr,!1,null,"9dbb803a",null)),Sr=xr.exports,Cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-form-item",{attrs:{label:e.eventFields[0].title}},[a("el-select",{attrs:{value:e.eventData.pauseMode},model:{value:e.eventData.pauseMode,callback:function(t){e.$set(e.eventData,"pauseMode",t)},expression:"eventData.pauseMode"}},e._l(e.eventFields[0].options,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1),"Countdown"==e.eventData.pauseMode?a("el-form-item",{class:{"is-disabled":"Countdown"!==e.eventData.pauseMode},attrs:{label:e.eventFields[1].title}},[a("el-input",{attrs:{type:"number"},model:{value:e.eventData.eventLength,callback:function(t){e.$set(e.eventData,"eventLength",t)},expression:"eventData.eventLength"}})],1):e._e()],1)},Ar=[],Tr=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.eventData={pauseMode:"Countdown",eventLength:0},e.eventFields=[{title:"Pause Mode",type:"select",options:[{title:"Countdown"},{title:"Measurement Stop"}],placeholder:""},{title:"Event Length [s]",type:"input"}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"mounted",value:function(){this.data&&(this.eventData=this._.pick(this.data,["pauseMode","eventLength"]))}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Tr.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],Tr.prototype,"data",void 0),Tr=p["b"]([v["a"]],Tr);var Er=Tr,Lr=Er,Mr=Object(k["a"])(Lr,Cr,Ar,!1,null,"5521c782",null),qr=Mr.exports,Nr=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.currentEvent={name:"",type:"Pause",id:0},e.eventType=[{title:"Measurement"},{title:"Pause"},{title:"Analysis"},{title:"Calculation"}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){return this.currentEvent}},{key:"onVisibleChange",value:function(e){e&&this.originalEvent&&(this.currentEvent=Object.assign({},this.originalEvent))}},{key:"clean",value:function(){this.currentEvent={name:"",type:"Pause",id:0},this.dismiss()}},{key:"addEvent",value:function(){var e="";switch(this.currentEvent["type"]){case"Measurement":e="measure";break;case"Pause":e="pause";break;case"Calculation":e="calculation";break;case"Analysis":e="analysis";break;default:e="";break}var t=this.$refs[e];this.currentEvent=Object.assign({},this.currentEvent,t.eventData),this.refresh(),this.clean()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Nr.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],Nr.prototype,"originalEvent",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Nr.prototype,"measurementsource",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Nr.prototype,"analysissource",void 0),p["b"]([Object(v["f"])("visible")],Nr.prototype,"onVisibleChange",null),Nr=p["b"]([Object(v["a"])({components:{EventAnalysisModal:Fi,EventCalculationModal:Zi,EventMeasureModal:Sr,EventPauseModal:qr}})],Nr);var Rr=Nr,$r=Rr,Pr=Object(k["a"])($r,hi,yi,!1,null,"be5d893a",null),Fr=Pr.exports,Ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Event"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"Event Name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.currentEvent.name,callback:function(t){e.$set(e.currentEvent,"name",t)},expression:"currentEvent.name"}})],1),a("el-form-item",{attrs:{label:"Event Type"}},[a("el-select",{attrs:{value:e.currentEvent.type},model:{value:e.currentEvent.type,callback:function(t){e.$set(e.currentEvent,"type",t)},expression:"currentEvent.type"}},e._l(e.eventType,function(e){return a("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}),1)],1)],1),"Measurement"===e.currentEvent.type?a("event-measure-modal",{ref:"measure"}):e._e(),"Pause"===e.currentEvent.type?a("event-pause-modal",{ref:"pause"}):e._e(),"Calculation"===e.currentEvent.type?a("event-calculation-modal",{ref:"calculation",attrs:{analysissource:e.analysissource}}):e._e(),"Analysis"===e.currentEvent.type?a("event-analysis-modal",{ref:"analysis",attrs:{measurementsource:e.measurementsource}}):e._e()],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addEvent}},[e._v("Confirm")])],1)],1)},Ur=[],Br=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.currentEvent={name:"",type:"Measurement",id:0},e.eventType=[{title:"Measurement"},{title:"Pause"},{title:"Analysis"},{title:"Calculation"}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){return this.currentEvent}},{key:"clean",value:function(){this.currentEvent={name:"",type:"Measurement",id:0},this.dismiss()}},{key:"addEvent",value:function(){var e="";switch(this.currentEvent["type"]){case"Measurement":e="measure";break;case"Pause":e="pause";break;case"Calculation":e="calculation";break;case"Analysis":e="analysis";break;default:e="";break}var t=this.$refs[e];this.currentEvent=Object.assign({},this.currentEvent,t.eventData,{id:this.id}),this.refresh(),this.clean()}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Br.prototype,"refresh",null),p["b"]([Object(v["d"])(Number)],Br.prototype,"id",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Br.prototype,"measurementsource",void 0),p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Br.prototype,"analysissource",void 0),Br=p["b"]([Object(v["a"])({components:{EventAnalysisModal:Fi,EventCalculationModal:Zi,EventMeasureModal:Sr,EventPauseModal:qr}})],Br);var Vr=Br,zr=Vr,Jr=Object(k["a"])(zr,Ir,Ur,!1,null,"2bce332a",null),Gr=Jr.exports;function Yr(){return{sequence_name:"",note:"",tags:"",is_disable:!1,is_customize:!0}}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{id:e,name:"",tasks:[]}}function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{id:t,name:e,events:[],eventName:"",status:""}}var Wr=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayEventModal=!1,e.displayEditEventModal=!1,e.formData=Object.assign({},Yr()),e.tags=[],e.tagName="",e.tagList=[],e.sequenceJSON=Hr(),e.selectedTaskId=0,e.newEventId=0,e.selectedEvent=null,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;e&&(null!==this.data&&(this.formData=this.data,this.sequenceJSON=JSON.parse(this.data.content)),this.api.getTagList(null).then(function(e){t.tagList=e}))}},{key:"addTag",value:function(){var e=this;this.api.addTag({name:this.tagName}).then(function(t){e.api.getTagList(null).then(function(a){e.tagList=a,e.tags=[].concat(Object(kt["a"])(e.tags),[t.id]),e.tagName=null})})}},{key:"getVersion",value:function(){var e=this;this.$prompt("Version Name","Get Version",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(function(t){e.formData.version=t.value,e.submit()}).catch(function(){e.$message({type:"info",message:"Cancel!"})})}},{key:"submit",value:function(){var e=this;this.formData.tags=this.tags.join(","),this.sequenceJSON.name=this.formData.sequence_name,this.formData.content=JSON.stringify(this.sequenceJSON),this.api.addSm(Object.assign({},this.formData,{user:this.id})).then(function(){e.refresh(),e.clean()})}},{key:"clean",value:function(){this.formData=Object.assign({},Yr()),this.sequenceJSON=Hr(),this.tags=[],this.tagName="",this.dismiss()}},{key:"getEvent",value:function(e){this.sequenceJSON.tasks[this.selectedTaskId].events.push(Object.assign({},e,{startTime:"",status:""}))}},{key:"addTask",value:function(){var e=this;this.$prompt("Task Name","New Task",{confirmButtonText:"Add",cancelButtonText:"Cancel"}).then(function(t){var a=e.sequenceJSON.tasks.length+1,n=Kr(t.value,a);e.sequenceJSON.tasks.push(n)}).catch(function(){e.$message({type:"info",message:"Cancel!"})})}},{key:"addEvent",value:function(e){this.newEventId=this.sequenceJSON.tasks[e].events.length+1,this.displayEventModal=!0,this.selectedTaskId=e}},{key:"duplicateTask",value:function(e){var t=this.sequenceJSON.tasks.length+1,a=Object.assign({id:t},e);this.sequenceJSON.tasks.push(a)}},{key:"editTaskName",value:function(e,t){var a=this;this.$prompt("Task Name","Rename",{confirmButtonText:"Save",cancelButtonText:"Cancel",inputValue:e}).then(function(e){a.sequenceJSON.tasks[t].name=e.value}).catch(function(){a.$message({type:"info",message:"Cancel!"})})}},{key:"removeTask",value:function(e){this.sequenceJSON.tasks.splice(e,1)}},{key:"patchEvent",value:function(e){console.log("event",e),this.sequenceJSON.tasks[this.selectedTaskId-1].events[e.id-1]=e,console.log("sequenceJSON",this.sequenceJSON),this.selectedEvent=null,this.refreshPage(this.selectedTaskId-1)}},{key:"refreshPage",value:function(e){this.sequenceJSON.tasks[e].events.push({name:"",type:"Pause",id:0}),this.sequenceJSON.tasks[e].events.pop()}},{key:"editEvent",value:function(e,t){this.selectedEvent=e,this.displayEditEventModal=!0,this.selectedTaskId=t}},{key:"removeEvent",value:function(e,t){this.sequenceJSON.tasks[t-1].events.splice(e,1)}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/id")],Wr.prototype,"id",void 0),p["b"]([Object(h["b"])("permission/status")],Wr.prototype,"status",void 0),p["b"]([Object(v["b"])("refresh")],Wr.prototype,"refresh",null),p["b"]([Object(v["d"])({type:Object,default:function(){return Yr()}})],Wr.prototype,"data",void 0),p["b"]([Object(v["f"])("visible")],Wr.prototype,"onVisibleChange",null),Wr=p["b"]([Object(v["a"])({components:{EditEventModal:Fr,EventModal:Gr}})],Wr);var Xr=Wr,Qr=Xr,Zr=Object(k["a"])(Qr,bi,vi,!1,null,"6e95218e",null),el=Zr.exports,tl=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e.displayAddProjModal=!1,e.displayAddModal=!1,e.duplicateData=null,e.seq=0,e.seqName="",e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"displayTag",value:function(e){var t=this,a=e.split(",").filter(function(e){return""!==e}),n=a.map(function(e){var a=t.tagList.find(function(t){return String(t.id)===e});return a?a.name:null}).filter(function(e){return null!==e});return n.join(",")}},{key:"openAddModal",value:function(e){this.displayAddProjModal=!0,this.seq=e.id,this.seqName=e.sequence_name}},{key:"getData",value:function(){var e=this,t=Et({is_customize:"False"});this.api.getSmList({query:t}).then(function(t){e.data=t}),this.api.getTagList(null).then(function(t){e.tagList=t})}},{key:"duplicateSequence",value:function(e){this.duplicateData=e,this.displayAddModal=!0}},{key:"cleanDuplicated",value:function(){this.displayAddModal=!1,this.duplicateData=null}}]),t}(v["e"]);tl=p["b"]([Object(v["a"])({components:{AddSequenceModal:el,AddProjectBySeqModal:fi}})],tl);var al=tl,nl=al,il=(a("357e"),Object(k["a"])(nl,li,si,!1,null,"bcabd942",null)),rl=il.exports,ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Sequence Name",prop:"sequence_name",sortable:"",width:"140"}}),a("el-table-column",{attrs:{label:"Tags"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.displayTag(t.row.tags)))]}}])}),a("el-table-column",{attrs:{label:"Ver",prop:"version",sortable:""}}),a("el-table-column",{attrs:{label:"Task Num",prop:"task_num",sortable:""}}),a("el-table-column",{attrs:{label:"Event Num",prop:"event_num",sortable:""}}),a("el-table-column",{attrs:{label:"Project Attached",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.project_attached))]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"left",label:"Actions",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.openAddModal(t.row)}}},[e._v("Create Project")]),e._v(" |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateSequence(t.row)}}},[e._v("Duplicate Sequence")])]}}])})],1),a("add-project-by-seq-modal",{attrs:{visible:e.displayAddProjModal,seq:e.seq,name:e.seqName},on:{dismiss:function(t){e.displayAddProjModal=!1},refresh:e.getData}}),a("add-sequence-modal",{attrs:{data:e.duplicateData,visible:e.displayAddModal},on:{dismiss:e.cleanDuplicated,refresh:e.getData}})],1)},sl=[],ol=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e.displayAddModal=!1,e.displayAddProjModal=!1,e.duplicateData=null,e.seq=0,e.seqName="",e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"displayTag",value:function(e){var t=this,a=e.split(",").filter(function(e){return""!==e}),n=a.map(function(e){var a=t.tagList.find(function(t){return String(t.id)===e});return a?a.name:null}).filter(function(e){return null!==e});return n.join(",")}},{key:"openAddModal",value:function(e){this.displayAddProjModal=!0,this.seq=e.id,this.seqName=e.sequence_name}},{key:"getData",value:function(){var e=this,t=Et({user:this.id,is_customize:"True"});this.api.getSmList({query:t}).then(function(t){e.data=t}),this.api.getTagList(null).then(function(t){e.tagList=t})}},{key:"duplicateSequence",value:function(e){this.duplicateData=e,this.displayAddModal=!0}},{key:"cleanDuplicated",value:function(){this.displayAddModal=!1,this.duplicateData=null}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/id")],ol.prototype,"id",void 0),ol=p["b"]([Object(v["a"])({components:{AddSequenceModal:el,AddProjectBySeqModal:fi}})],ol);var cl=ol,ul=cl,dl=(a("6c9a"),Object(k["a"])(ul,ll,sl,!1,null,"4b81deda",null)),ml=dl.exports,pl=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.activeTab=e.tabs[0].name,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"tabs",get:function(){return 1===this.status?[{name:"PAL Global Sequence",component:rl},{name:"PAL Customized Sequence",component:ml},{name:"Global Tags",component:ri}]:[{name:"PAL Global Sequence",component:rl},{name:"PAL Customized Sequence",component:ml}]}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/status")],pl.prototype,"status",void 0),pl=p["b"]([v["a"]],pl);var fl=pl,bl=fl,vl=(a("9435"),Object(k["a"])(bl,Xn,Qn,!1,null,"04743130",null)),hl=vl.exports,yl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Sequence")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("New Sequence")]),a("el-button",{attrs:{plain:""},on:{click:function(t){e.displayImportModal=!0}}},[e._v("Import Sequence")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange","prefix-icon":"pal-icon-calendar"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"pal-icon-search",size:"small"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-tabs",{staticClass:"tab-container",attrs:{type:"card"},on:{"tab-click":e.changeTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[1===e.status?a("el-tab-pane",{attrs:{label:"Global",name:"Global"}},[a("el-table",{attrs:{stripe:"",data:e.data,size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Note",prop:"note"}}),a("el-table-column",{attrs:{label:"Sequence Name",prop:"sequence_name"}}),a("el-table-column",{attrs:{label:"Ver",prop:"version"}}),a("el-table-column",{attrs:{label:"Task Number",prop:"task_num"}}),a("el-table-column",{attrs:{label:"Event Number",prop:"event_num"}}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatDate")(t.row.created_time))+"\n          ")]}}],null,!1,4031028665)}),a("el-table-column",{attrs:{align:"left",label:"Actions",width:"340"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editSequence(t.row.id)}}},[e._v("Edit")]),e._v(" |\n            "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.enableSequence(t.row)}}},[e._v(e._s(e.statusLabel(t.row.is_disable)))]),e._v("\n            | "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyJSON(t.row)}}},[e._v("Export JSON")]),e._v(" |\n            "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateSequence(t.row)}}},[e._v("Duplicate Sequence")])]}}],null,!1,2663167954)})],1)],1):e._e(),a("el-tab-pane",{attrs:{label:"Customize",name:"Customize"}},[a("el-table",{attrs:{stripe:"",data:e.data,size:"mini"}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Note",prop:"note",sortable:""}}),a("el-table-column",{attrs:{label:"Sequence Name",prop:"sequence_name",sortable:"",width:"140"}}),a("el-table-column",{attrs:{label:"Ver",prop:"version",sortable:""}}),a("el-table-column",{attrs:{label:"Task Number",prop:"task_num",sortable:"",width:"130"}}),a("el-table-column",{attrs:{label:"Event Number",prop:"event_num",sortable:"",width:"130"}}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatDate")(t.row.created_time))+"\n          ")]}}])}),a("el-table-column",{attrs:{align:"left",label:"Actions",width:"340"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editSequence(t.row.id)}}},[e._v("Edit")]),e._v(" |\n            "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.enableSequence(t.row)}}},[e._v(e._s(e.statusLabel(t.row.is_disable)))]),e._v("\n            | "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyJSON(t.row)}}},[e._v("Export JSON")]),e._v(" |\n            "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateSequence(t.row)}}},[e._v("Duplicate Sequence")])]}}])})],1)],1)],1),a("add-sequence-modal",{attrs:{data:e.duplicateData,visible:e.displayAddModal},on:{dismiss:e.cleanDuplicated,refresh:e.getData}}),a("edit-sequence-modal",{attrs:{id:e.editId,visible:e.displayEditModal},on:{dismiss:e.closeEdit,refresh:e.getData}}),a("import-sequence-modal",{attrs:{visible:e.displayImportModal},on:{dismiss:function(t){e.displayImportModal=!1},refresh:e.getData}})],1)},gl=[],_l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit Sequence",width:"90%","show-close":!1},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form",[a("el-form-item",{attrs:{label:"Sequence Name"}},[a("el-input",{model:{value:e.formData.sequence_name,callback:function(t){e.$set(e.formData,"sequence_name",t)},expression:"formData.sequence_name"}}),1===e.status?a("el-checkbox",{staticStyle:{"margin-top":"10px"},model:{value:e.formData.is_customize,callback:function(t){e.$set(e.formData,"is_customize",t)},expression:"formData.is_customize"}},[e._v("\n              Is this a customize sequence? ( It can't be remove )\n            ")]):e._e()],1),a("el-form-item",{attrs:{label:"Note"}},[a("el-input",{model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addTask}},[e._v("New Task")])],1)],1)],1),a("el-col",{staticClass:"form-item-group",attrs:{span:8,offset:4}},[a("el-form",[a("el-form-item",{attrs:{label:"Tags"}},[a("el-select",{attrs:{multiple:"",value:e.tags},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},[a("el-option-group",{attrs:{label:"Global Tag"}},e._l(e.tagList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"enter tag here"},model:{value:e.tagName,callback:function(t){e.tagName=t},expression:"tagName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addTag}},[e._v("Add")])],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"form-item-group"},[e.sequenceJSON?a("el-table",{staticClass:"pal-table-header-in-row",attrs:{data:e.sequenceJSON.tasks,size:"mini"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-timeline",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.addEvent(t.$index)}}},[e._v("New Event ")])],1),e._l(t.row.events,function(n,i){return a("el-timeline-item",{key:i,attrs:{size:"large"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Name")]),a("div",[e._v(e._s(n.name))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Event Status")]),a("div",[e._v("-")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Type")]),a("div",[e._v(e._s(n.type))])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Start Time")]),a("div",[e._v("-")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-header"},[e._v("Actions")]),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editEvent(n,t.row.id)}}},[e._v("Edit")]),e._v("\n                        |\n                        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeEvent(i,t.row.id)}}},[e._v("Remove")])],1)],1)],1)],1)})],2)]}}],null,!1,2376679971)}),a("el-table-column",{attrs:{label:"Task Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",[e._v(e._s(t.row.name))])]}}],null,!1,434120803)}),a("el-table-column",{attrs:{label:"Total Time"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Status"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Round"}},[a("el-row",[e._v(" - ")])],1),a("el-table-column",{attrs:{label:"Actions",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editTaskName(t.row.name,t.$index)}}},[e._v("Rename")]),e._v("\n                |\n                "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.duplicateTask(t.row)}}},[e._v("Duplicate")]),e._v("\n                |\n                "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeTask(t.$index)}}},[e._v("Remove")])],1)]}}],null,!1,1692310847)})],1):e._e()],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.getVersion}},[e._v("Get Version")])],1),a("event-modal",{attrs:{id:e.newEventId,visible:e.displayEventModal,measurementsource:e.measurementsource,analysissource:e.analysissource},on:{dismiss:function(t){e.displayEventModal=!1},refresh:e.getEvent}}),a("edit-event-modal",{attrs:{"original-event":e.selectedEvent,visible:e.displayEditEventModal,measurementsource:e.measurementsource,analysissource:e.analysissource},on:{dismiss:function(t){e.displayEditEventModal=!1},refresh:e.patchEvent}})],1)},kl=[],Dl=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayEventModal=!1,e.displayEditEventModal=!1,e.selectedTaskId=0,e.newEventId=0,e.formData=Object.assign({},Yr()),e.tags=[],e.tagName="",e.sequenceJSON=Hr(),e.tagList=[],e.selectedEvent=null,e.measurementsource=[],e.analysissource=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;e&&this.api.getTagList(null).then(function(e){t.tagList=e}),this.api.getSm(this.id).then(function(e){t.formData=e,t.sequenceJSON=e.content?JSON.parse(e.content):Hr(),t.tags=t.formData.tags.split(",").map(function(e){return Number(e)})})}},{key:"addTag",value:function(){var e=this;this.api.addTag({name:this.tagName}).then(function(t){e.api.getTagList(null).then(function(a){e.tagList=a,e.tags=[].concat(Object(kt["a"])(e.tags),[t.id]),e.tagName=null})})}},{key:"getVersion",value:function(){var e=this;this.$prompt("Version Name","Get Version",{confirmButtonText:"Submit",cancelButtonText:"Cancel",inputValue:String(this.formData.version)}).then(function(t){e.formData.version=t.value,e.submit()}).catch(function(){e.$message({type:"info",message:"Cancel!"})})}},{key:"submit",value:function(){var e=this;this.formData.tags=this.tags.join(","),this.sequenceJSON.name=this.formData.sequence_name,this.formData.content=JSON.stringify(this.sequenceJSON),this.formData.user=this.formData.user?this.formData.user.id:null,this.api.editSm(this.formData,this.formData.id).then(function(){e.refresh(),e.clean()})}},{key:"clean",value:function(){this.formData=Object.assign({},Yr()),this.sequenceJSON=Hr(),this.tags=[],this.tagName="",this.dismiss()}},{key:"addTask",value:function(){var e=this;this.$prompt("Task Name","New Task",{confirmButtonText:"Add",cancelButtonText:"Cancel"}).then(function(t){var a=e.sequenceJSON.tasks.length+1,n=Kr(t.value,a);e.sequenceJSON.tasks.push(n)}).catch(function(){e.$message({type:"info",message:"Cancel!"})})}},{key:"addEvent",value:function(e){this.newEventId=this.sequenceJSON.tasks[e].events.length+1,this.displayEventModal=!0,this.selectedTaskId=e,this.measurementsource=this.sequenceJSON.tasks[e].events.reduce(function(e,t){return"Measurement"==t.type&&e.push(t.name),e},[]),this.analysissource=this.sequenceJSON.tasks[e].events.reduce(function(e,t){return"Analysis"==t.type&&e.push(t.name),e},[])}},{key:"getEvent",value:function(e){this.sequenceJSON.tasks[this.selectedTaskId].events.push(Object.assign({},e,{startTime:"",status:""}))}},{key:"patchEvent",value:function(e){console.log("event",e),this.sequenceJSON.tasks[this.selectedTaskId-1].events[e.id-1]=e,console.log("sequenceJSON",this.sequenceJSON),this.selectedEvent=null,this.refreshPage(this.selectedTaskId-1)}},{key:"refreshPage",value:function(e){this.sequenceJSON.tasks[e].events.push({name:"",type:"Pause",id:0}),this.sequenceJSON.tasks[e].events.pop()}},{key:"editEvent",value:function(e,t){var a=t-1;this.selectedEvent=e,this.displayEditEventModal=!0,this.selectedTaskId=t,this.measurementsource=this.sequenceJSON.tasks[a].events.reduce(function(e,t){return"Measurement"==t.type&&e.push(t.name),e},[]),this.analysissource=this.sequenceJSON.tasks[a].events.reduce(function(e,t){return"Analysis"==t.type&&e.push(t.name),e},[])}},{key:"duplicateTask",value:function(e){var t=this.sequenceJSON.tasks.length+1,a=Object.assign({id:t},e);this.sequenceJSON.tasks.push(a)}},{key:"editTaskName",value:function(e,t){var a=this;this.$prompt("Task Name","Rename",{confirmButtonText:"Save",cancelButtonText:"Cancel",inputValue:e}).then(function(e){a.sequenceJSON.tasks[t].name=e.value}).catch(function(){a.$message({type:"info",message:"Cancel!"})})}},{key:"removeTask",value:function(e){this.sequenceJSON.tasks.splice(e,1)}},{key:"removeEvent",value:function(e,t){this.sequenceJSON.tasks[t-1].events.splice(e,1)}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/status")],Dl.prototype,"status",void 0),p["b"]([Object(v["d"])(Number)],Dl.prototype,"id",void 0),p["b"]([Object(v["b"])("refresh")],Dl.prototype,"refresh",null),p["b"]([Object(v["f"])("visible")],Dl.prototype,"onVisibleChange",null),Dl=p["b"]([Object(v["a"])({components:{EditEventModal:Fr,EventModal:Gr}})],Dl);var Ol=Dl,jl=Ol,wl=Object(k["a"])(jl,_l,kl,!1,null,"11a6371d",null),xl=wl.exports,Sl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Import Sequence "},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",{attrs:{label:"Upload JSON"}},[a("el-upload",{ref:"upload",attrs:{action:"","http-request":e.upload,"show-file-list":!1}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"}},[e._v("Upload")])],1)],1),a("el-form-item",{attrs:{label:"Sequence Name"}},[a("el-input",{model:{value:e.formData.sequence_name,callback:function(t){e.$set(e.formData,"sequence_name",t)},expression:"formData.sequence_name"}})],1),a("el-form-item",{attrs:{label:"Content"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{label:"note"}},[a("el-input",{model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Cl=[],Al=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData={json:"",sequence_name:"",content:"",note:""},e.fileList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"add",value:function(){this.refresh(),this.clean()}},{key:"clean",value:function(){this.formData={json:"",sequence_name:"",content:"",note:""},this.dismiss()}},{key:"importJSON",value:function(){var e=this;navigator.clipboard.readText().then(function(t){return e.formData.content=t})}},{key:"upload",value:function(e){var t=this,a=new FileReader;a.readAsText(e.file),a.onload=function(){console.log(a.result),t.formData.content=a.result}}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],Al.prototype,"refresh",null),Al=p["b"]([v["a"]],Al);var Tl=Al,El=Tl,Ll=Object(k["a"])(El,Sl,Cl,!1,null,"3bb3c3b0",null),Ml=Ll.exports,ql=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddModal=!1,e.displayImportModal=!1,e.activeTab="Customize",e.searchDate=null,e.data=[],e.originalData=[],e.displayEditModal=!1,e.editId=null,e.duplicateData=null,e.global=!1,e.searchString="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"editSequence",value:function(e){this.editId=e,this.displayEditModal=!0}},{key:"closeEdit",value:function(){this.displayEditModal=!1,this.editId=null}},{key:"mounted",value:function(){var e=1===this.status?"Global":"Customize";this.activeTab=e,this.changeTab({label:e})}},{key:"changeTab",value:function(e){this.global="Customize"!==e.label,this.getData()}},{key:"getData",value:function(){var e,t=this;if(this.duplicateData=null,!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);e={gte:a[0],lte:a[1]}}e=this.global?Object.assign({},e,{is_customize:"False"}):Object.assign({},e,{user:this.id,is_customize:"True"}),this.api.getSmList({query:Et(e)}).then(function(e){t.originalData=e,t.data=t.originalData})}},{key:"statusLabel",value:function(e){return e?"Enable":"Disable"}},{key:"copyJSON",value:function(e){var t=e.content,a="data:text/csv;charset=utf-8,\ufeff"+t,n=document.createElement("a");n.href=encodeURI(a),n.download="".concat(e.sequence_name,"_JSON.txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),this.$copyText(e.content),this.$message({message:"JSON copied",type:"success"})}},{key:"duplicateSequence",value:function(e){this.duplicateData=e,this.displayAddModal=!0}},{key:"cleanDuplicated",value:function(){this.displayAddModal=!1,this.duplicateData=null}},{key:"enableSequence",value:function(e){var t=this;this.$confirm("Are you sure?","".concat(this.statusLabel(e.is_disable)," Sequence")).then(function(){t.api.editSm({is_disable:!e.is_disable},e.id).then(function(){return t.getData()})})}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/id")],ql.prototype,"id",void 0),p["b"]([Object(h["b"])("permission/status")],ql.prototype,"status",void 0),ql=p["b"]([Object(v["a"])({components:{ImportSequenceModal:Ml,EditSequenceModal:xl,AddSequenceModal:el}})],ql);var Nl=ql,Rl=Nl,$l=(a("a3ad"),Object(k["a"])(Rl,yl,gl,!1,null,"f433002a",null)),Pl=$l.exports,Fl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Transducer")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("New Transducer")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"pal-icon-search",size:"small"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-tabs",{staticClass:"tab-container",attrs:{type:"card"},on:{"tab-click":e.getData},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.name,name:e.name,lazy:""}})}),1),a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Category",prop:"device_category",width:"100"}}),a("el-table-column",{attrs:{label:"Content"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.displayContent(t.row))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editTransducer(t.row.id)}}},[e._v("Edit")]),e._v(" |\n        "),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteTransducer(t.row.id)}}},[e._v("Delete")])]}}])})],1),a("add-transducer-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-transducer-modal",{attrs:{id:e.editId,visible:e.displayEditModal},on:{dismiss:e.closeEdit,refresh:e.getData}}),a("calibration-event-modal",{attrs:{visible:e.displayCalibrationEventModal},on:{dismiss:function(t){e.displayCalibrationEventModal=!1}}})],1)},Il=[],Ul=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Event"},on:{close:e.dismiss}},[a("el-form",[a("el-row",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.start}},[e._v("Start")]),a("el-button",{attrs:{type:"primary"},on:{click:e.stop}},[e._v("Stop")]),a("el-button",{attrs:{disabled:!Object.keys(e.calibrateCallback).length,type:"primary"},on:{click:e.accept}},[e._v("Accept")])],1),a("el-form-item",{attrs:{label:"Sensitivity Frequency"}},[a("el-input",{model:{value:e.data.SensitivityFrequency,callback:function(t){e.$set(e.data,"SensitivityFrequency",t)},expression:"data.SensitivityFrequency"}})],1),a("el-form-item",{attrs:{label:"Source Level"}},[a("el-input",{model:{value:e.data.SourceLevel,callback:function(t){e.$set(e.data,"SourceLevel",t)},expression:"data.SourceLevel"}})],1),"Input"==this.tabName?a("el-form-item",{attrs:{label:"IsPhantomPowerOn"}},[a("el-select",{attrs:{value:e.data.IsPhantomPowerOn},model:{value:e.data.IsPhantomPowerOn,callback:function(t){e.$set(e.data,"IsPhantomPowerOn",t)},expression:"data.IsPhantomPowerOn"}},[a("el-option",{attrs:{label:"true",value:!0}}),a("el-option",{attrs:{label:"false",value:!1}})],1)],1):e._e(),this.equalization?a("el-form-item",{attrs:{label:"Equalization Start Frequency"}},[a("el-input",{model:{value:e.data.EqStartFrequency,callback:function(t){e.$set(e.data,"EqStartFrequency",t)},expression:"data.EqStartFrequency"}})],1):e._e(),this.equalization?a("el-form-item",{attrs:{label:"Equalization Stop Frequency"}},[a("el-input",{model:{value:e.data.EqStopFrequency,callback:function(t){e.$set(e.data,"EqStopFrequency",t)},expression:"data.EqStopFrequency"}})],1):e._e(),e._v("\n        "+e._s(e.excuteCallback)+"\n      ")],1)],1),this.equalization?a("vue-echarts",{staticStyle:{height:"500px"},attrs:{option:e.chartOption,ei:e.ei},on:{"update:ei":function(t){e.ei=t}}}):e._e(),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)},Bl=[],Vl=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.excuteCallback="",e.data={SensitivityFrequency:"",SourceLevel:null,IsPhantomPowerOn:!0,EqStartFrequency:null,EqStopFrequency:null},e.calibrateCallback={},e.chartdata=[],e.mockResultData=[{name:"Head Front"},{name:"Head  Right"},{name:"Head  Left"}],e.mockRequirementData=[{name:"Manual Point"},{name:"Value Limit"}],e.chartOption={tooltip:{trigger:"axis"},legend:{data:["High","Low"]},toolbox:{show:!0,feature:{mark:{show:!0},dataZoom:{show:!0},dataView:{show:!0},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,dataZoom:{show:!0,realtime:!0,start:20,end:80},xAxis:[{type:"category",boundaryGap:!1,data:function(){for(var e=[],t=1;t<=30;t++)e.push("2013-03-"+t);return e}()}],yAxis:[{type:"value"}],series:[{name:"High",type:"line",data:function(){for(var e=[],t=1;t<=30;t++)e.push(Math.round(30*Math.random()));return e}()},{name:"Low",type:"line",data:function(){for(var e=[],t=1;t<=30;t++)e.push(Math.round(10*Math.random()));return e}()}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"doCalibrate",value:function(){}},{key:"onVisibleChange",value:function(e){e&&(this.calibrateCallback={},this.data={SensitivityFrequency:"",SourceLevel:null,IsPhantomPowerOn:!0,EqStartFrequency:null,EqStopFrequency:null},this.chartdata=[])}},{key:"clean",value:function(){this.dismiss()}},{key:"start",value:function(){var e=this,t={};t="Input"==this.tabName?{InputChannel:this.ChannelIndex,SensitivityFrequency:parseInt(this.data.SensitivityFrequency),SourceLevel:parseFloat(this.data.SourceLevel),IsPhantomPowerOn:this.data.IsPhantomPowerOn}:this.equalization?{InputChannel:this.ChannelIndex,OutputChannel:this.ChannelIndex,SensitivityFrequency:parseInt(this.data.SensitivityFrequency),SourceLevel:parseFloat(this.data.SourceLevel),EqStartFrequency:parseInt(this.data.EqStartFrequency),EqStopFrequency:parseInt(this.data.EqStopFrequency)}:{InputChannel:this.ChannelIndex,OutputChannel:this.ChannelIndex,SensitivityFrequency:parseInt(this.data.SensitivityFrequency),SourceLevel:parseFloat(this.data.SourceLevel)};var a="calibrate;"+JSON.stringify(t);this.api.getPALSendCommandHandle({id:this.sn,cmd:a}).then(function(t){e.calibrateCallback=JSON.parse(t["cmd"])})}},{key:"stop",value:function(){this.api.getPALSendCommandHandle({id:this.sn,cmd:"stop"}).then(function(){})}},{key:"accept",value:function(){var e=this,t=this.calibrateCallback.RecordedFile.split("temp\\")[1];this.api.s3upload({id:this.sn,src:t,dst:"s3://".concat(this.email,"/").concat(t,".wav")}).then(function(a){e.equalization&&e.api.doExecuteApi({inputs:[[{name:"Bucket Name",value:"pal.data"},{name:"Object Key",value:'"'.concat(e.email,"/").concat(t,".wav")}]]}).then(function(t){e.excuteCallback=JSON.stringify(t),e.chartdata=t["samples"]})})}},{key:"save",value:function(){this.$emit("doCalibrate",this.calibrateCallback),this.dismiss()}}]),t}(Object(v["c"])(A));p["b"]([Object(h["b"])("permission/email")],Vl.prototype,"email",void 0),p["b"]([Object(v["b"])("refresh")],Vl.prototype,"refresh",null),p["b"]([Object(v["b"])("doCalibrate")],Vl.prototype,"doCalibrate",null),p["b"]([Object(v["d"])({type:String,default:function(){return""}})],Vl.prototype,"tabName",void 0),p["b"]([Object(v["d"])({type:String,default:function(){return null}})],Vl.prototype,"sn",void 0),p["b"]([Object(v["d"])({type:Boolean,default:function(){return!1}})],Vl.prototype,"equalization",void 0),p["b"]([Object(v["d"])({type:Number,default:function(){return 0}})],Vl.prototype,"ChannelIndex",void 0),p["b"]([Object(v["f"])("visible")],Vl.prototype,"onVisibleChange",null),Vl=p["b"]([v["a"]],Vl);var zl=Vl,Jl=zl,Gl=(a("ed00"),Object(k["a"])(Jl,Ul,Bl,!1,null,"04614344",null)),Yl=Gl.exports,Hl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Category",prop:"device_category",width:"100"}}),a("el-table-column",{attrs:{label:"Content"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.displayContent(t.row))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Actions"}},[[a("el-link",{attrs:{type:"primary"}},[e._v("Edit")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"}},[e._v("Detail")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"}},[e._v("Calibrate")])]],2)],1)],1)},Kl=[],Wl=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"displayContent",value:function(e){var t=e.calibration_date,a=e.name,n=e.category;return"Category: ".concat(n," / Name: ").concat(a," / Calibration Date: ").concat(Ct(t,Un.YMD))}}]),t}(v["e"]);p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],Wl.prototype,"data",void 0),Wl=p["b"]([v["a"]],Wl);var Xl=Wl,Ql=Xl,Zl=(a("74db"),Object(k["a"])(Ql,Hl,Kl,!1,null,"164d6fa8",null)),es=Zl.exports,ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Transducer"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Device Category",prop:"device_category"}},[a("el-select",{attrs:{value:e.formData.device_category},model:{value:e.formData.device_category,callback:function(t){e.$set(e.formData,"device_category",t)},expression:"formData.device_category"}},[a("el-option",{attrs:{label:"Actuator",value:"Actuator"}}),a("el-option",{attrs:{label:"Sensor",value:"Sensor"}})],1)],1),a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Category",prop:"category"}},[a("el-select",{attrs:{value:e.formData.category},on:{change:e.onSelectCategory},model:{value:e.formData.category,callback:function(t){e.$set(e.formData,"category",t)},expression:"formData.category"}},["Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Accelerometer",value:"Accelerometer"}}):e._e(),"Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Electrical",value:"Electrical"}}):e._e(),"Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Microphone",value:"Microphone"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Electrical Output",value:"Electrical"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Speaker",value:"Speaker"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Vibration Actuator",value:"Vibration"}}):e._e()],1)],1),a("el-form-item",{attrs:{label:"Manufacture"}},[a("el-input",{model:{value:e.formData.manufacture,callback:function(t){e.$set(e.formData,"manufacture",t)},expression:"formData.manufacture"}})],1),a("el-form-item",{attrs:{label:"Model"}},[a("el-input",{model:{value:e.formData.model,callback:function(t){e.$set(e.formData,"model",t)},expression:"formData.model"}})],1),a("el-form-item",{attrs:{label:"Serial Number\t",prop:"serial_num"}},[a("el-input",{model:{value:e.formData.serial_num,callback:function(t){e.$set(e.formData,"serial_num",t)},expression:"formData.serial_num"}})],1),a("el-form-item",{attrs:{label:"Sensitivity",prop:"sensitivity"}},[a("el-input",{model:{value:e.formData.sensitivity,callback:function(t){e.$set(e.formData,"sensitivity",t)},expression:"formData.sensitivity"}})],1),a("el-form-item",{attrs:{label:"Sensitivity Unit",prop:"signal_type"}},[a("el-select",{attrs:{value:e.formData.signal_type},model:{value:e.formData.signal_type,callback:function(t){e.$set(e.formData,"signal_type",t)},expression:"formData.signal_type"}},e._l(e.units,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},as=[];function ns(){return{category:"",name:"",manufacture:"",model:"",serial_num:"",sensitivity:0,sensitivity_unit_pa_per_v:0,device_category:"",equalization:"",signal_type:""}}var is=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},ns()),e.rules={device_category:[{required:!0,message:"Device Category is required.",trigger:"change"}],name:[{required:!0,message:"Name is required.",trigger:"change"}],category:[{required:!0,message:"Category is required.",trigger:"change"}],serial_num:[{required:!0,message:"Serial Number is required.",trigger:"change"}],sensitivity:[{required:!0,message:"Sensitivity is required.",trigger:"change"}],signal_type:[{required:!0,message:"Sensitivity Unit is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"add",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addTransducerDB(e.formData).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.formData=Object.assign({},ns()),this.dismiss()}},{key:"onSelectCategory",value:function(){this.formData.signal_type=""}},{key:"units",get:function(){return"Electrical"===this.formData.category?[{label:"V/V",value:"V/V"}]:"Speaker"===this.formData.category?[{label:"Pa/V",value:"Pa/V"}]:"Vibration"===this.formData.category?[{label:"g/V",value:"g/V"},{label:"(m/s^2)/V",value:"(m/s^2)/V"}]:"Accelerometer"===this.formData.category?[{label:"V/g",value:"V/g"},{label:"V/(m/s^2)",value:"V/(m/s^2)"}]:"Microphone"===this.formData.category?[{label:"V/Pa",value:"V/Pa"}]:void 0}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],is.prototype,"refresh",null),is=p["b"]([v["a"]],is);var rs=is,ls=rs,ss=Object(k["a"])(ls,ts,as,!1,null,"36894e84",null),os=ss.exports,cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"New Transducer"},on:{close:e.dismiss}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"Device Category",prop:"device_category"}},[a("el-select",{attrs:{value:e.formData.device_category},model:{value:e.formData.device_category,callback:function(t){e.$set(e.formData,"device_category",t)},expression:"formData.device_category"}},[a("el-option",{attrs:{label:"Actuator",value:"Actuator"}}),a("el-option",{attrs:{label:"Sensor",value:"Sensor"}})],1)],1),a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Category",prop:"category"}},[a("el-select",{attrs:{value:e.formData.category},on:{change:e.onSelectCategory},model:{value:e.formData.category,callback:function(t){e.$set(e.formData,"category",t)},expression:"formData.category"}},["Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Accelerometer",value:"Accelerometer"}}):e._e(),"Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Electrical",value:"Electrical"}}):e._e(),"Sensor"===e.formData.device_category?a("el-option",{attrs:{label:"Microphone",value:"Microphone"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Electrical Output",value:"Electrical"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Speaker",value:"Speaker"}}):e._e(),"Actuator"===e.formData.device_category?a("el-option",{attrs:{label:"Vibration Actuator",value:"Vibration"}}):e._e()],1)],1),a("el-form-item",{attrs:{label:"Manufacture"}},[a("el-input",{model:{value:e.formData.manufacture,callback:function(t){e.$set(e.formData,"manufacture",t)},expression:"formData.manufacture"}})],1),a("el-form-item",{attrs:{label:"Model"}},[a("el-input",{model:{value:e.formData.model,callback:function(t){e.$set(e.formData,"model",t)},expression:"formData.model"}})],1),a("el-form-item",{attrs:{label:"Serial Number\t",prop:"serial_num"}},[a("el-input",{model:{value:e.formData.serial_num,callback:function(t){e.$set(e.formData,"serial_num",t)},expression:"formData.serial_num"}})],1),a("el-form-item",{attrs:{label:"Sensitivity",prop:"sensitivity"}},[a("el-input",{model:{value:e.formData.sensitivity,callback:function(t){e.$set(e.formData,"sensitivity",t)},expression:"formData.sensitivity"}})],1),a("el-form-item",{attrs:{label:"Sensitivity Unit",prop:"signal_type"}},[a("el-select",{attrs:{value:e.formData.signal_type},model:{value:e.formData.signal_type,callback:function(t){e.$set(e.formData,"signal_type",t)},expression:"formData.signal_type"}},e._l(e.units,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}),1)],1)],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dismiss}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTransducer}},[e._v("Save")])],1)],1)},us=[],ds=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formData=Object.assign({},ns()),e.rules={device_category:[{required:!0,message:"Device Category is required.",trigger:"change"}],name:[{required:!0,message:"Name is required.",trigger:"change"}],category:[{required:!0,message:"Category is required.",trigger:"change"}],serial_num:[{required:!0,message:"Serial Number is required.",trigger:"change"}],sensitivity:[{required:!0,message:"Sensitivity is required.",trigger:"change"}],signal_type:[{required:!0,message:"Sensitivity Unit is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){var t=this;e&&this.api.getTDBList({query:"id:".concat(this.id)}).then(function(e){t.formData=e[0]})}},{key:"editTransducer",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.editTransducerDB(e.formData,e.formData.id).then(function(){e.refresh(),e.clean()})})}},{key:"clean",value:function(){this.formData=Object.assign({},ns()),this.dismiss()}},{key:"onSelectCategory",value:function(){this.formData.signal_type=""}},{key:"units",get:function(){return"Electrical"===this.formData.category?[{label:"V/V",value:"V/V"}]:"Speaker"===this.formData.category?[{label:"Pa/V",value:"Pa/V"}]:"Vibration"===this.formData.category?[{label:"g/V",value:"g/V"},{label:"(m/s^2)/V",value:"(m/s^2)/V"}]:"Accelerometer"===this.formData.category?[{label:"V/g",value:"V/g"},{label:"V/(m/s^2)",value:"V/(m/s^2)"}]:"Microphone"===this.formData.category?[{label:"V/Pa",value:"V/Pa"}]:void 0}}]),t}(Object(v["c"])(A));p["b"]([Object(v["d"])(Number)],ds.prototype,"id",void 0),p["b"]([Object(v["b"])("refresh")],ds.prototype,"refresh",null),p["b"]([Object(v["f"])("visible")],ds.prototype,"onVisibleChange",null),ds=p["b"]([v["a"]],ds);var ms=ds,ps=ms,fs=Object(k["a"])(ps,cs,us,!1,null,"06142136",null),bs=fs.exports,vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Category",prop:"device_category",width:"100"}}),a("el-table-column",{attrs:{label:"Content"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.displayContent(t.row))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Actions"}},[[a("el-link",{attrs:{type:"primary"}},[e._v("Edit")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"}},[e._v("Detail")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"}},[e._v("Calibrate")])]],2)],1)],1)},hs=[],ys=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"displayContent",value:function(e){var t=e.calibration_date,a=e.name,n=e.category;return"Category: ".concat(n," / Name: ").concat(a," / Calibration Date: ").concat(Ct(t,Un.YMD))}}]),t}(v["e"]);p["b"]([Object(v["d"])({type:Array,default:function(){return[]}})],ys.prototype,"data",void 0),ys=p["b"]([v["a"]],ys);var gs=ys,_s=gs,ks=(a("941a"),Object(k["a"])(_s,vs,hs,!1,null,"46f8d8f0",null)),Ds=ks.exports,Os=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e.originalData=[],e.tabs=[{name:"Actuator",component:es},{name:"Sensor",component:Ds}],e.displayAddModal=!1,e.displayEditModal=!1,e.displayCalibrationEventModal=!1,e.editId=null,e.searchString="",e.activeTab=e.tabs[0].name,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getSpeakerData()}},{key:"getData",value:function(){"Sensor"===this.activeTab?this.getSensorData():this.getSpeakerData()}},{key:"getSpeakerData",value:function(){var e=this;this.api.getTDBList({query:"device_category:Actuator"}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"getSensorData",value:function(){var e=this;this.api.getTDBList({query:"device_category:Sensor"}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"displayContent",value:function(e){var t=e.calibration_date,a=e.name,n=e.category;return"Category: ".concat(n," / Name: ").concat(a," / Calibration Date: ").concat(Ct(t,Un.YMD))}},{key:"editTransducer",value:function(e){this.editId=e,this.displayEditModal=!0}},{key:"deleteTransducer",value:function(e){var t=this;this.api.deleteTDB(e).then(function(){return t.getData()})}},{key:"closeEdit",value:function(){this.displayEditModal=!1,this.editId=null}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}}]),t}(v["e"]);Os=p["b"]([Object(v["a"])({components:{EditTransducerModal:bs,AddTransducerModal:os,CalibrationEventModal:Yl}})],Os);var js=Os,ws=js,xs=(a("6426"),Object(k["a"])(ws,Fl,Il,!1,null,"39fd62a6",null)),Ss=xs.exports,Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("Transducer")]),a("el-breadcrumb-item",[e._v("\n        Setup "),a("strong",[e._v(e._s(e.serial_num))]),e._v(" ( IoT device serial number ) Audio Device\n      ")])],1)],1),a("el-tabs",{staticClass:"tab-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabs,function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.name,lazy:""}},[t.component?a(t.component,{tag:"component",attrs:{"tab-name":t.name}}):e._e()],1)}),1)],1)},As=[],Ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.data,size:"mini",stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Content"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.displayContent(t.row))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.selectTransducer(t.row,t.$index)}}},[e._v("Select")]),t.row?a("span",[e._v(" | ")]):e._e(),t.row?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.displayCalibration(!1,t.$index)}}},[e._v("Calibrate")]):e._e(),t.row&&"Outputs"===e.tabName?a("span",[e._v(" | ")]):e._e(),t.row&&"Outputs"===e.tabName?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.displayCalibration(!0,t.$index)}}},[e._v("Calibrate Equalization")]):e._e()]}}])})],1),a("select-transducer-modal",{attrs:{"tab-name":e.tabName,sn:e.serial_num,data:e.selectedChannel,visible:e.displaySelectModal,sensitivity:e.sensitivity},on:{dismiss:function(t){e.displaySelectModal=!1},refresh:e.getData}}),a("calibration-event-modal",{attrs:{"tab-name":e.tabName,sn:e.serial_num,visible:e.displayCalibrationEventModal,equalization:e.displayCalibrationEqualization,ChannelIndex:e.selectedIndex},on:{dismiss:function(t){e.displayCalibrationEventModal=!1},doCalibrate:e.doCalibrate}})],1)},Es=[],Ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Select Channel"},on:{close:e.clean}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"Category",value:e.category},on:{change:e.onSelectCategory},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},["Outputs"===e.tabName?a("el-option",{attrs:{label:"Actuator",value:"Actuator"}}):e._e(),"Outputs"!==e.tabName?a("el-option",{attrs:{label:"Sensor",value:"Sensor"}}):e._e()],1)],1),e.transducerList.length?a("el-form-item",[a("el-select",{attrs:{placeholder:"Transducer",value:e.transducer},on:{change:e.onSelectTransducer},model:{value:e.transducer,callback:function(t){e.transducer=t},expression:"transducer"}},e._l(e.transducerList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1):e._e()],1),e.transducer?a("el-form",{attrs:{disabled:""}},[a("el-row",[a("el-form-item",{attrs:{label:"Device Category"}},[a("el-select",{attrs:{value:e.transducer.device_category},model:{value:e.transducer.device_category,callback:function(t){e.$set(e.transducer,"device_category",t)},expression:"transducer.device_category"}},[a("el-option",{attrs:{label:"Speaker",value:"Speaker"}}),a("el-option",{attrs:{label:"Sensor",value:"Sensor"}})],1)],1),a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.transducer.name,callback:function(t){e.$set(e.transducer,"name",t)},expression:"transducer.name"}})],1),a("el-form-item",{attrs:{label:"Category"}},[a("el-select",{attrs:{value:e.transducer.category},model:{value:e.transducer.category,callback:function(t){e.$set(e.transducer,"category",t)},expression:"transducer.category"}},[a("el-option",{attrs:{label:"Electrical",value:"Electrical"}}),a("el-option",{attrs:{label:"Atom",value:"Atom"}})],1)],1),a("el-form-item",{attrs:{label:"Manufacture"}},[a("el-input",{model:{value:e.transducer.manufacture,callback:function(t){e.$set(e.transducer,"manufacture",t)},expression:"transducer.manufacture"}})],1),a("el-form-item",{attrs:{label:"Model"}},[a("el-input",{model:{value:e.transducer.model,callback:function(t){e.$set(e.transducer,"model",t)},expression:"transducer.model"}})],1),a("el-form-item",{attrs:{label:"Serial Number    "}},[a("el-input",{model:{value:e.transducer.serial_num,callback:function(t){e.$set(e.transducer,"serial_num",t)},expression:"transducer.serial_num"}})],1),a("el-form-item",{attrs:{label:"Sensitivity"}},[a("el-input",{model:{value:e.sensitivity,callback:function(t){e.sensitivity=t},expression:"sensitivity"}})],1),a("el-form-item",{attrs:{label:"Sensitivity Unit"}},[a("el-input",{model:{value:e.transducer.sensitivity_unit_pa_per_v,callback:function(t){e.$set(e.transducer,"sensitivity_unit_pa_per_v",t)},expression:"transducer.sensitivity_unit_pa_per_v"}})],1)],1)],1):e._e(),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clean}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Save")])],1)],1)},Ms=[],qs=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.category="",e.isEdit=!1,e.transducer=null,e.channel=null,e.transducerList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e&&this.data&&(this.category="Outputs"===this.tabName?"Actuator":"Sensor",this.channel=this.data,this.data.transducerdb&&(this.transducer=this.data.transducerdb),this.isEdit=!0,this.onSelectCategory(this.category))}},{key:"add",value:function(){var e=this,t=this.transducer,a=(t.category,t.name),n=t.sensitivity_unit_pa_per_v,i=t.id;if("Input"!==this.tabName){var r={ChannelType:"Output",ChannelIndex:parseInt(this.data.channel_num)-1,TransducerName:a,Base64Sensitivity:this.sensitivity,SensitivityUnit:btoa(String(n))},l="config;"+JSON.stringify(r);this.api.getPALSendCommand({id:this.sn,cmd:l}).then(function(){e.api.editChannel({transducerdb:i},e.data.id).then(function(){e.refresh(),e.clean()})})}else{var s={ChannelType:"Input",ChannelIndex:parseInt(this.data.channel_num)-1,TransducerName:a,Base64Sensitivity:this.sensitivity,SensitivityUnit:btoa(String(n)),IsPhantomPowerOn:!0},o="config;"+JSON.stringify(s);this.api.getPALSendCommand({id:this.sn,cmd:o}).then(function(){e.api.editChannel({transducerdb:i},e.data.id).then(function(){e.refresh(),e.clean()})})}}},{key:"clean",value:function(){this.category="",this.transducer=null,this.dismiss()}},{key:"onSelectCategory",value:function(e){var t=this,a=Et({device_category:e});this.api.getTDBList({query:a}).then(function(e){t.transducerList=e})}},{key:"onSelectTransducer",value:function(e){var t=this;this.transducer={category:"computing...",device_category:"computing...",manufacture:"computing...",model:"computing...",serial_num:"computing...",name:"computing..."},setTimeout(function(){t.transducer=e},1e3)}}]),t}(Object(v["c"])(A));p["b"]([Object(v["d"])({type:String,default:function(){return""}})],qs.prototype,"tabName",void 0),p["b"]([Object(v["d"])({type:String,default:function(){return null}})],qs.prototype,"sn",void 0),p["b"]([Object(v["d"])({type:Object,default:function(){return null}})],qs.prototype,"data",void 0),p["b"]([Object(v["d"])({type:String,default:function(){return null}})],qs.prototype,"sensitivity",void 0),p["b"]([Object(v["b"])("refresh")],qs.prototype,"refresh",null),p["b"]([Object(v["f"])("visible")],qs.prototype,"onVisibleChange",null),qs=p["b"]([v["a"]],qs);var Ns=qs,Rs=Ns,$s=Object(k["a"])(Rs,Ls,Ms,!1,null,"247b9be9",null),Ps=$s.exports,Fs=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.labId="",e.chNum="",e.data=[],e.displaySelectModal=!1,e.displayCalibrationEventModal=!1,e.displayCalibrationEqualization=!1,e.selectedChannel=null,e.selectedIndex=null,e.serial_num="",e.sensitivity="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"beforeMount",value:function(){this.labId=String(this.$route.query.id),this.chNum=String(this.$route.query.ch),this.serial_num=String(this.$route.query.sn),this.getData()}},{key:"getData",value:function(){var e=this;this.api.getTDBSettingList({query:Et({lab:this.labId})}).then(function(t){return p["a"](e,void 0,void 0,regeneratorRuntime.mark(function e(){var a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}this.api.addTransducerDBSetting({lab:Number(this.labId)}).then(function(e){return p["a"](n,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=1;case 2:if(!(n<=Number(this.chNum))){t.next=8;break}return t.next=5,this.api.addChannels({channel_num:String(n)}).then(function(e){a.push(e.id)});case 5:n++,t.next=2;break;case 8:this.api.editTransducerDBSetting({channel:a},e.id).then(function(){return i.getData()});case 9:case"end":return t.stop()}},t,this)}))}),e.next=10;break;case 4:if(a=t[0],0!==a.channel.length){e.next=9;break}return e.delegateYield(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=[],i=1;case 2:if(!(i<=Number(n.chNum))){e.next=8;break}return e.next=5,n.api.addChannels({channel_num:String(i)}).then(function(e){t.push(e.id)});case 5:i++,e.next=2;break;case 8:n.api.editTransducerDBSetting({channel:t},a.id).then(function(){return n.getData()});case 9:case"end":return e.stop()}},e)})(),"t0",7);case 7:e.next=10;break;case 9:this.data=a.channel;case 10:case"end":return e.stop()}},e,this)}))})}},{key:"selectTransducer",value:function(e,t){this.selectedChannel=e,this.selectedIndex=t,this.displaySelectModal=!0}},{key:"displayCalibration",value:function(e,t){this.selectedIndex=t,this.displayCalibrationEqualization=e,this.displayCalibrationEventModal=!0}},{key:"displayContent",value:function(e){if(e.transducerdb){var t=e.transducerdb,a=t.calibration_date,n=t.name,i=t.category;return"Category: ".concat(i," / Name: ").concat(n," / Calibration Date: ").concat(Ct(a,Un.YMD))}return""}},{key:"doCalibrate",value:function(e){this.sensitivity=e["Base64Sensitivity"]}}]),t}(v["e"]);p["b"]([Object(v["d"])({type:String,default:function(){return""}})],Fs.prototype,"tabName",void 0),Fs=p["b"]([Object(v["a"])({components:{CalibrationEventModal:Yl,SelectTransducerModal:Ps,AddTransducerModal:os}})],Fs);var Is=Fs,Us=Is,Bs=(a("6d6e"),Object(k["a"])(Us,Ts,Es,!1,null,"c1316dac",null)),Vs=Bs.exports,zs=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.tabs=[{name:"Input",component:Vs},{name:"Outputs",component:Vs}],e.activeTab=e.tabs[0].name,e.serial_num="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"beforeMount",value:function(){this.serial_num=String(this.$route.query.sn)}}]),t}(v["e"]);zs=p["b"]([v["a"]],zs);var Js=zs,Gs=Js,Ys=(a("d7fc"),Object(k["a"])(Gs,Cs,As,!1,null,"8e7f039c",null)),Hs=Ys.exports,Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"breadcrumb header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("User")]),a("el-breadcrumb-item",[e._v("List")])],1)],1),a("el-row",{staticClass:"pal-table-func-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.displayAddModal=!0}}},[e._v("Add User")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{attrs:{"end-placeholder":"To","prefix-icon":"pal-icon-calendar","range-separator":"-",size:"small","start-placeholder":"From",type:"daterange"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"pal-icon-search",size:"small"},on:{input:e.inputString},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1)],1)],1)],1),a("el-table",{attrs:{data:e.data,height:"481",size:"mini",stripe:""}},[a("el-table-column",{attrs:{align:"right",label:"No",type:"index",width:"40"}}),a("el-table-column",{attrs:{align:"left",label:"Account",prop:"account",width:"120",sortable:""}}),a("el-table-column",{attrs:{label:"Name",prop:"name",sortable:""}}),a("el-table-column",{attrs:{formatter:function(t,a,n){return e.join(n)},label:"Labs",prop:"labs",sortable:""}}),a("el-table-column",{attrs:{align:"right",label:"Network traffic(GB)",prop:"network_traffic",width:"160",sortable:""}}),a("el-table-column",{attrs:{align:"right",label:"Storage",prop:"storage",width:"100",sortable:""}}),a("el-table-column",{attrs:{align:"right",label:"API time",prop:"api_time",width:"100",sortable:""}}),a("el-table-column",{attrs:{align:"right",label:"Quota",prop:"quota",width:"100",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:"Billing status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.billing_status?"Paid":"Unpaid")+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Certificate of registration",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.certificate_of_registration?"True":"False")+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Plan"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.plan_management&&t.row.plan_management.plan_name)+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Create Time",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("formatDate")(t.row.created_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{align:"left",label:"Action",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editAccount(t.row)}}},[e._v("Edit")]),e._v("\n        |\n        "),a("el-link",{attrs:{type:t.row.has_right?"primary":"danger"},on:{click:function(a){return e.enableAccount(t.row)}}},[e._v(e._s(e.statusLabel(t.row.has_right)))]),e._v("\n        |\n        "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.sendBilling(t.row.account)}}},[e._v("Billing History")])]}}])})],1),a("el-row",{staticClass:"foot-button",attrs:{justify:"end",type:"flex"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.displayGetModal=!0}}},[e._v("Get All Invoice(By Month)")])],1),a("add-user-account-modal",{attrs:{visible:e.displayAddModal},on:{dismiss:function(t){e.displayAddModal=!1},refresh:e.getData}}),a("edit-user-account-modal",{attrs:{acc:e.editAcc,visible:e.displayEditModal},on:{dismiss:e.closeEdit,refresh:e.getData}}),a("get-invoice-modal",{attrs:{visible:e.displayGetModal},on:{dismiss:function(t){e.displayGetModal=!1}}})],1)},Ws=[],Xs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"show-close":!1,visible:e.visible,"append-to-body":"",title:"New",width:"90%"},on:{close:e.cancel}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules}},[a("el-row",[a("el-col",{staticClass:"form-item-group",attrs:{span:18}},[a("div",{staticClass:"form-item-group-header"},[e._v("Profile")]),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"User Name",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"User Email",prop:"account"}},[a("el-input",{model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account",t)},expression:"formData.account"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Company Id",prop:"company_id"}},[a("el-input",{model:{value:e.formData.company_id,callback:function(t){e.$set(e.formData,"company_id",t)},expression:"formData.company_id"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Company Name",prop:"company_name"}},[a("el-input",{model:{value:e.formData.company_name,callback:function(t){e.$set(e.formData,"company_name",t)},expression:"formData.company_name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Company address",prop:"company_address"}},[a("el-input",{model:{value:e.formData.company_address,callback:function(t){e.$set(e.formData,"company_address",t)},expression:"formData.company_address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Tax ID"}},[a("el-input",{model:{value:e.formData.tax_id,callback:function(t){e.$set(e.formData,"tax_id",t)},expression:"formData.tax_id"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Work Phone"}},[a("el-input",{model:{value:e.formData.work_phone,callback:function(t){e.$set(e.formData,"work_phone",t)},expression:"formData.work_phone"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Mobile Phone"}},[a("el-input",{model:{value:e.formData.mobile_phone,callback:function(t){e.$set(e.formData,"mobile_phone",t)},expression:"formData.mobile_phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Invoicing Delivery address"}},[a("el-input",{model:{value:e.formData.invoicing_delivery_address,callback:function(t){e.$set(e.formData,"invoicing_delivery_address",t)},expression:"formData.invoicing_delivery_address"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Payment Term",prop:"payment_term"}},[a("el-input",{model:{value:e.formData.payment_term,callback:function(t){e.$set(e.formData,"payment_term",t)},expression:"formData.payment_term"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Monthly Payment Upper Limit (NTD)"}},[a("el-input",{model:{value:e.formData.monthly_payment_upper_limit,callback:function(t){e.$set(e.formData,"monthly_payment_upper_limit",t)},expression:"formData.monthly_payment_upper_limit"}})],1)],1)],1)],1),a("el-col",{staticClass:"form-item-group",attrs:{span:6}},[a("div",{staticClass:"form-item-group-header"},[e._v("Plan")]),a("el-form-item",{attrs:{label:"Plan",prop:"plan_management"}},[a("el-select",{attrs:{value:e.formData.plan_management},model:{value:e.formData.plan_management,callback:function(t){e.$set(e.formData,"plan_management",t)},expression:"formData.plan_management"}},e._l(e.planList,function(e,t){return a("el-option",{key:t,attrs:{label:e.plan_name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"Network traffic (GB)"}},[e._v("\n          0 GB\n        ")]),a("el-form-item",{attrs:{label:"Storage"}},[e._v("\n          0 GB\n        ")]),a("el-form-item",{attrs:{label:"Billing status",prop:"billing_status"}},[a("el-select",{attrs:{value:e.formData.billing_status},model:{value:e.formData.billing_status,callback:function(t){e.$set(e.formData,"billing_status",t)},expression:"formData.billing_status"}},[a("el-option",{attrs:{value:!1,label:"Unpaid"}}),a("el-option",{attrs:{value:!0,label:"Paid"}})],1)],1),a("el-form-item",{attrs:{label:"Certificate of registration",prop:"certificate_of_registration"}},[a("el-select",{attrs:{value:e.formData.certificate_of_registration},model:{value:e.formData.certificate_of_registration,callback:function(t){e.$set(e.formData,"certificate_of_registration",t)},expression:"formData.certificate_of_registration"}},[a("el-option",{attrs:{value:!1,label:"False"}}),a("el-option",{attrs:{value:!0,label:"True"}})],1)],1),a("el-form-item",{attrs:{label:"Quota",prop:"quota"}},[a("el-input",{model:{value:e.formData.quota,callback:function(t){e.$set(e.formData,"quota",t)},expression:"formData.quota"}})],1)],1)],1)],1),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Labs")]),a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{justify:"space-between",type:"flex"}},[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(t){e.displayAddLabModal=!0}}},[e._v("New Lab")]),a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:e.importLab}},[e._v("Import Labs")])],1),a("el-table",{attrs:{data:e.labList,stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Lab Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Device"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.name))]}}])}),a("el-table-column",{attrs:{label:"Serial Num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.serial_num))]}}])}),a("el-table-column",{attrs:{label:"Certificate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.certificate))]}}])}),a("el-table-column",{attrs:{label:"Online"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.online_device)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editLab(t.row)}}},[e._v("Edit")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeLab(t.$index)}}},[e._v("Remove")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyLab(t.row)}}},[e._v("Export Lab")])]}}])})],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Save")])],1),a("add-lab-modal",{attrs:{data:e.duplicateLab,visible:e.displayAddLabModal},on:{"add-lab":e.addLab,dismiss:e.cleanDuplicated,refresh:e.getData}}),a("edit-lab-modal",{attrs:{lab:e.selectedLab,visible:e.displayEditLabModal},on:{dismiss:function(t){e.displayEditLabModal=!1},refresh:e.addLab}})],1)},Qs=[];function Zs(){return{account:"",api_time:0,company_address:"",company_id:"",invoicing_delivery_address:"",is_staff:!1,is_superuser:!1,labs:[],mobile_phone:"",monthly_payment_upper_limit:"",name:"",certificate_of_registration:!1,billing_status:!1,company_name:"",password:"123456",payment_term:"",plan_management:null,quota:0,status:0,storage:0,tax_id:"",work_phone:""}}var eo=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddLabModal=!1,e.displayEditLabModal=!1,e.formData=Object.assign({},Zs()),e.labList=[],e.planList=[],e.selectedLab=null,e.duplicateLab=null,e.rules={name:[{required:!0,message:"User Name is required.",trigger:"change"}],account:[{required:!0,message:"User Email is required.",trigger:"change"}],company_id:[{required:!0,message:"Company Id is required.",trigger:"change"}],company_name:[{required:!0,message:"Company Name is required.",trigger:"change"}],company_address:[{required:!0,message:"Company address is required.",trigger:"change"}],plan_management:[{required:!0,message:"Plan is required.",trigger:"change"}],billing_status:[{required:!0,message:"Billing status is required.",trigger:"change"}],certificate_of_registration:[{required:!0,message:"Certificate of registration is required.",trigger:"change"}],quota:[{required:!0,message:"Quota is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e&&this.getData()}},{key:"addLab",value:function(e){var t=this;e&&this.formData.labs.push(e);var a=this.formData.labs.join(",");this.api.getLabList({ids:a}).then(function(e){t.labList=e})}},{key:"copyLab",value:function(e){var t=Object.assign({},this._.pick(e,["description","name"]));this.$copyText(JSON.stringify(t)),this.$message({message:"Lab copied",type:"success"})}},{key:"getData",value:function(){var e=this;this.api.getPlanList({fields:"id,plan_name"}).then(function(t){e.planList=t})}},{key:"submit",value:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.api.addUserAccount(e.formData).then(function(){e.refresh(),e.cancel()})})}},{key:"cancel",value:function(){this.$refs.form.resetFields(),this.formData=Object.assign({},Zs()),this.dismiss()}},{key:"editLab",value:function(e){this.selectedLab=e,this.displayEditLabModal=!0}},{key:"removeLab",value:function(e){this.labList.splice(e,1)}},{key:"importLab",value:function(){var e=this;navigator.clipboard.readText().then(function(t){e.duplicateLab=JSON.parse(t),e.displayAddLabModal=!0})}},{key:"cleanDuplicated",value:function(){this.displayAddLabModal=!1,this.duplicateLab=null}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],eo.prototype,"refresh",null),p["b"]([Object(v["f"])("visible")],eo.prototype,"onVisibleChange",null),eo=p["b"]([Object(v["a"])({components:{EditLabModal:pt,AddLabModal:lt}})],eo);var to=eo,ao=to,no=Object(k["a"])(ao,Xs,Qs,!1,null,"19ddf7bb",null),io=no.exports,ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Edit",width:"90%","show-close":!1},on:{close:e.cancel}},[e.acc?a("el-form",{ref:"form",attrs:{model:e.acc,rules:e.rules}},[a("el-row",[a("el-col",{staticClass:"form-item-group",attrs:{span:18}},[a("div",{staticClass:"form-item-group-header"},[e._v("Profile")]),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"User Name",prop:"name"}},[a("el-input",{model:{value:e.acc.name,callback:function(t){e.$set(e.acc,"name",t)},expression:"acc.name"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"User Email",prop:"account"}},[a("el-input",{attrs:{disabled:""},model:{value:e.acc.account,callback:function(t){e.$set(e.acc,"account",t)},expression:"acc.account"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Company Id",prop:"company_id"}},[a("el-input",{model:{value:e.acc.company_id,callback:function(t){e.$set(e.acc,"company_id",t)},expression:"acc.company_id"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Company Name",prop:"company_name"}},[a("el-input",{model:{value:e.acc.company_name,callback:function(t){e.$set(e.acc,"company_name",t)},expression:"acc.company_name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Company address",prop:"company_address"}},[a("el-input",{model:{value:e.acc.company_address,callback:function(t){e.$set(e.acc,"company_address",t)},expression:"acc.company_address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Tax ID"}},[a("el-input",{model:{value:e.acc.tax_id,callback:function(t){e.$set(e.acc,"tax_id",t)},expression:"acc.tax_id"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Work Phone"}},[a("el-input",{model:{value:e.acc.work_phone,callback:function(t){e.$set(e.acc,"work_phone",t)},expression:"acc.work_phone"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Mobile Phone"}},[a("el-input",{model:{value:e.acc.mobile_phone,callback:function(t){e.$set(e.acc,"mobile_phone",t)},expression:"acc.mobile_phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Invoicing Delivery address"}},[a("el-input",{model:{value:e.acc.invoicing_delivery_address,callback:function(t){e.$set(e.acc,"invoicing_delivery_address",t)},expression:"acc.invoicing_delivery_address"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Payment Term",prop:"payment_term"}},[a("el-input",{model:{value:e.acc.payment_term,callback:function(t){e.$set(e.acc,"payment_term",t)},expression:"acc.payment_term"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Monthly Payment Upper Limit (NTD)"}},[a("el-input",{model:{value:e.acc.monthly_payment_upper_limit,callback:function(t){e.$set(e.acc,"monthly_payment_upper_limit",t)},expression:"acc.monthly_payment_upper_limit"}})],1)],1)],1)],1),a("el-col",{staticClass:"form-item-group",attrs:{span:6}},[a("div",{staticClass:"form-item-group-header"},[e._v("Plan")]),a("el-form-item",{attrs:{label:"Plan",prop:"plan_management"}},[a("el-select",{attrs:{value:e.acc.plan_management},model:{value:e.acc.plan_management,callback:function(t){e.$set(e.acc,"plan_management",t)},expression:"acc.plan_management"}},e._l(e.planList,function(e,t){return a("el-option",{key:t,attrs:{label:e.plan_name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"Network traffic (GB)"}},[e._v(" "+e._s(e.acc.network_traffic)+" GB ")]),a("el-form-item",{attrs:{label:"Storage"}},[e._v(" "+e._s(e.acc.storage)+" GB ")]),a("el-form-item",{attrs:{label:"Billing status",prop:"billing_status"}},[a("el-select",{attrs:{value:e.acc.billing_status},model:{value:e.acc.billing_status,callback:function(t){e.$set(e.acc,"billing_status",t)},expression:"acc.billing_status"}},[a("el-option",{attrs:{value:!1,label:"Unpaid"}}),a("el-option",{attrs:{value:!0,label:"Paid"}})],1)],1),a("el-form-item",{attrs:{label:"Certificate of registration",prop:"certificate_of_registration"}},[a("el-select",{attrs:{value:e.acc.certificate_of_registration},model:{value:e.acc.certificate_of_registration,callback:function(t){e.$set(e.acc,"certificate_of_registration",t)},expression:"acc.certificate_of_registration"}},[a("el-option",{attrs:{value:!1,label:"False"}}),a("el-option",{attrs:{value:!0,label:"True"}})],1)],1),a("el-form-item",{attrs:{label:"Quota",prop:"quota"}},[a("el-input",{model:{value:e.acc.quota,callback:function(t){e.$set(e.acc,"quota",t)},expression:"acc.quota"}})],1)],1)],1)],1):e._e(),a("el-row",[a("div",{staticClass:"form-item-group-header"},[e._v("Labs")]),a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{justify:"space-between",type:"flex"}},[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(t){e.displayAddLabModal=!0}}},[e._v("New Lab")]),a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:e.importLab}},[e._v("Import Labs")])],1),a("el-table",{attrs:{data:e.labList,stripe:""}},[a("el-table-column",{attrs:{label:"No",type:"index"}}),a("el-table-column",{attrs:{label:"Lab Name",prop:"name"}}),a("el-table-column",{attrs:{label:"Device"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.name))]}}])}),a("el-table-column",{attrs:{label:"Serial Num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.serial_num))]}}])}),a("el-table-column",{attrs:{label:"Certificate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.certificate))]}}])}),a("el-table-column",{attrs:{label:"Online"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_manager.online_device)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Create Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDate")(t.row.created_time))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editLab(t.row)}}},[e._v("Edit")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.removeLab(t.$index)}}},[e._v("Remove")]),e._v("\n          |\n          "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.copyLab(t.row)}}},[e._v("Export Lab")])]}}])})],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editAcc}},[e._v("Save")])],1),a("add-lab-modal",{attrs:{data:e.duplicateLab,visible:e.displayAddLabModal},on:{"add-lab":e.addLab,dismiss:e.cleanDuplicated,refresh:e.getData}}),a("edit-lab-modal",{attrs:{visible:e.displayEditLabModal,lab:e.selectedLab},on:{dismiss:function(t){e.displayEditLabModal=!1},refresh:e.getData}})],1)},lo=[],so=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.displayAddLabModal=!1,e.displayEditLabModal=!1,e.labList=[],e.planList=[],e.selectedLab=null,e.duplicateLab=null,e.rules={name:[{required:!0,message:"User Name is required.",trigger:"change"}],account:[{required:!0,message:"User Email is required.",trigger:"change"}],company_id:[{required:!0,message:"Company Id is required.",trigger:"change"}],company_name:[{required:!0,message:"Company Name is required.",trigger:"change"}],company_address:[{required:!0,message:"Company address is required.",trigger:"change"}],plan_management:[{required:!0,message:"Plan is required.",trigger:"change"}],billing_status:[{required:!0,message:"Billing status is required.",trigger:"change"}],certificate_of_registration:[{required:!0,message:"Certificate of registration is required.",trigger:"change"}],quota:[{required:!0,message:"Quota is required.",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"onVisibleChange",value:function(e){e&&this.getData()}},{key:"getData",value:function(){var e=this,t=this.acc.labs.map(function(e){return e.id}).join(",");t.length>0&&this.api.getLabList({ids:t}).then(function(t){e.labList=t}),this.api.getPlanList({fields:"id,plan_name"}).then(function(t){e.planList=t,e.acc.plan_management=e.acc.plan_management.id})}},{key:"addLab",value:function(e){var t=this,a=[].concat(Object(kt["a"])(this.labList.map(function(e){return e.id})),[e]).join(",");this.api.getLabList({ids:a}).then(function(e){t.labList=e})}},{key:"editLab",value:function(e){this.selectedLab=e,this.displayEditLabModal=!0}},{key:"copyLab",value:function(e){var t=Object.assign({},this._.pick(e,["description","name"]));this.$copyText(JSON.stringify(t)),this.$message({message:"Lab copied",type:"success"})}},{key:"editAcc",value:function(){var e=this,t=this.labList.map(function(e){return e.id}),a=Object.assign({},this._.omit(this.acc,["password","labs"]),{labs:t});this.$refs.form.validate(function(t){if(!t)return!1;e.api.patchUserAccount(a,e.acc.id).then(function(){e.cancel()})})}},{key:"cancel",value:function(){this.$refs.form.resetFields(),this.planList=[],this.labList=[],this.dismiss(),this.refresh()}},{key:"removeLab",value:function(e){this.labList.splice(e,1)}},{key:"importLab",value:function(){var e=this;navigator.clipboard.readText().then(function(t){e.duplicateLab=JSON.parse(t),e.displayAddLabModal=!0})}},{key:"cleanDuplicated",value:function(){this.displayAddLabModal=!1,this.duplicateLab=null}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],so.prototype,"refresh",null),p["b"]([Object(v["d"])(Object)],so.prototype,"acc",void 0),p["b"]([Object(v["f"])("visible")],so.prototype,"onVisibleChange",null),so=p["b"]([Object(v["a"])({components:{EditLabModal:pt,AddLabModal:lt}})],so);var oo=so,co=oo,uo=Object(k["a"])(co,ro,lo,!1,null,"e3739842",null),mo=uo.exports,po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"append-to-body":"",title:"Get All Users Invoice( By Month )"},on:{close:e.dismiss}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",[a("el-date-picker",{attrs:{size:"small",type:"month"},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1)],1),a("div",{staticClass:"dialog footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.getBilling}},[e._v("Billing Download")])],1)],1)},fo=[],bo=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.searchDate=new Date,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"refresh",value:function(){}},{key:"getBilling",value:function(){var e=this;this.api.postBillingMail({mail:"user@gmail.com",admin_mail:"admin@gmail.com"}).then(function(t){e.$message({message:t.msg,type:"success"}),e.dismiss()})}}]),t}(Object(v["c"])(A));p["b"]([Object(v["b"])("refresh")],bo.prototype,"refresh",null),bo=p["b"]([v["a"]],bo);var vo=bo,ho=vo,yo=(a("bd0a"),Object(k["a"])(ho,po,fo,!1,null,"db1859e6",null)),go=yo.exports,_o=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.data=[],e.displayGetModal=!1,e.displayAddModal=!1,e.displayEditModal=!1,e.editAcc=null,e.searchDate=null,e.searchString="",e.formData={status:0},e.originalData=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.getData()}},{key:"join",value:function(e){return this._.isEmpty(e)?"":e.map(function(e){return e.name}).join(", ")}},{key:"getData",value:function(){var e=this,t=this._.cloneDeep(this.formData);if(!this._.isEmpty(this.searchDate)){var a=Tt(this.searchDate);t=Object.assign({},t,{gte:a[0],lte:a[1]})}this.api.getUserAccountList({query:Et(t)}).then(function(t){e.originalData=t,e.data=e.originalData})}},{key:"inputString",value:function(e){this.data=""===e?this.originalData:this.originalData.filter(function(t){return Object.values(t).some(function(t){return"string"===typeof t&&t.toUpperCase().includes(e.toUpperCase())})})}},{key:"editAccount",value:function(e){this.editAcc=e,this.displayEditModal=!0}},{key:"closeEdit",value:function(){this.displayEditModal=!1,this.editAcc=null}},{key:"sendBilling",value:function(e){var t=this;this.api.postBillingMail({mail:e,admin_mail:this.email}).then(function(){t.$message({message:"Send Billing Email!",type:"success"})})}},{key:"statusLabel",value:function(e){return e?"Disable":"Enable"}},{key:"enableAccount",value:function(e){var t=this;this.$confirm("Are you sure?","".concat(this.statusLabel(e.has_right)," Account")).then(function(){e.has_right||t.api.postRecoveryMail(e.account).catch(console.warn),t.api.patchUserAccount({has_right:!e.has_right,is_active:!e.has_right},e.id).then(function(){return t.getData()})})}}]),t}(v["e"]);p["b"]([Object(h["b"])("permission/email")],_o.prototype,"email",void 0),_o=p["b"]([Object(v["a"])({components:{EditUserAccountModal:mo,AddUserAccountModal:io,GetInvoiceModal:go}})],_o);var ko=_o,Do=ko,Oo=(a("5b72"),Object(k["a"])(Do,Ks,Ws,!1,null,"308b2f9e",null)),jo=Oo.exports,wo=!0,xo={all:[{name:"changePassword",tab:Vt},{name:"UserAccountManagement",tab:jo},{name:"AdminAccountManagement",tab:Rt},{name:"PlanManagement",tab:sn},{name:"PlanSetting",tab:fn},{name:"ProjectManager",tab:Nn},{name:"ProjectWorker",tab:Wn},{name:"SequenceManager",tab:Pl},{name:"UserSequenceManager",tab:Pl},{name:"SequenceStore",tab:hl},{name:"UserSequenceStore",tab:hl},{name:"Lab",tab:ya},{name:"TransducerDbSettings",tab:Hs},{name:"TransducerDbDevice",tab:Ss},{name:"IoT",tab:da},{name:"OTA",tab:Fa}],currentTab:null},So={all:function(e){var t=e.all;return t},currentTab:function(e){var t=e.currentTab;return t}},Co={UPDATE_CURRENT_TAB:function(e,t){e.currentTab=t}},Ao={UPDATE_CURRENT_TAB:function(e,t){var a=e.state.all.find(function(e){return e.name===t});a?e.commit(n.UPDATE_CURRENT_TAB,a):e.commit(n.UPDATE_CURRENT_TAB,{name:"Default",tab:Ce})}},To={namespaced:wo,state:xo,getters:So,actions:Ao,mutations:Co},Eo=!0,Lo={username:"",email:"",id:0,status:0,token:""},Mo={username:function(e){var t=e.username;return t},id:function(e){var t=e.id;return t},status:function(e){var t=e.status;return t},token:function(e){var t=e.token;return t},email:function(e){var t=e.email;return t}},qo={UPDATE_PERMISSION:function(e,t){e.username=t.username,e.id=t.id,e.email=t.email,e.status=t.status,e.token=t.token},CLEAR:function(e){e.username="",e.id=0,e.status=0,e.token="",e.email=""}},No={UPDATE_PERMISSION:function(e,t){e.commit(E.UPDATE_PERMISSION,t),Object.keys(t).forEach(function(e){fe.set(e,t[e])})},CLEAR:function(e){e.commit(E.CLEAR),fe.clear()}},Ro={namespaced:Eo,state:Lo,getters:Mo,actions:No,mutations:qo},$o=a("2f62"),Po=a("0e44");r["default"].use($o["a"]);var Fo=Object(Po["a"])({storage:window.sessionStorage,paths:["permission"]}),Io=new $o["a"].Store({modules:{tabs:To,permission:Ro},plugins:[Fo]}),Uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},Bo=[],Vo=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),t}(v["e"]);Vo=p["b"]([v["a"]],Vo);var zo=Vo,Jo=zo,Go=Object(k["a"])(Jo,Uo,Bo,!1,null,null,null),Yo=Go.exports,Ho=(a("c69f"),a("b2d6")),Ko=a.n(Ho);r["default"].use(ie.a,{locale:Ko.a});a("5635"),a("a18c"),a("e9b4");var Wo={computed:{api:function(){return ve.ApiExecutor}}},Xo=Wo,Qo=a("415c"),Zo=a.n(Qo),ec=a("4eb5"),tc=a.n(ec);r["default"].use(Zo.a),r["default"].use(tc.a),r["default"].mixin(Xo),r["default"].filter("formatDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un.YMD;return Ct(e,t)});var ac=a("12f27");r["default"].use(ac["a"]),r["default"].config.productionTip=!1,new r["default"]({router:Ke,store:Io,render:function(e){return e(Yo)}}).$mount("#app")},d79c:function(e,t,a){},d7fc:function(e,t,a){"use strict";var n=a("f0d9"),i=a.n(n);i.a},d90b:function(e,t,a){"use strict";var n=a("8691"),i=a.n(n);i.a},dfcf:function(e,t,a){"use strict";var n=a("fabb"),i=a.n(n);i.a},e4d4:function(e,t,a){},e9a1:function(e,t,a){"use strict";var n=a("a80b"),i=a.n(n);i.a},e9b4:function(e,t,a){},ebfa:function(e,t,a){},ed00:function(e,t,a){"use strict";var n=a("e4d4"),i=a.n(n);i.a},efeb:function(e,t,a){"use strict";var n=a("3e4c"),i=a.n(n);i.a},f0d9:function(e,t,a){},fabb:function(e,t,a){}});
//# sourceMappingURL=app.fb0233ab.js.map